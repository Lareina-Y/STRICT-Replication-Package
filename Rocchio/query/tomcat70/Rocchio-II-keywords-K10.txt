47744	Memory leak SSL Java security manager Created attachment details zip main bug test client JSP server patch SSL java security manager Tomcat leaks memory servlets access cert path cipher request properties servlet JSP asks properties request loaded JSSESupport offending method calculates key size attempts cache SSLSession security manager fine security manager runs AccessControlContext time Retrieving cache putting SSLSession cache leaks memory JVM bug Tomcat fault Tomcat exercising Popular web service tools Apache CXF retrieve cert properties request invocation Depending policy file leak slow requiring thousands millions requests fast requiring crash instance Tomcat limited gig memory note SSLSession collected memory leak isn permanent turn SSLSession timeout wait amount time specific session bug continuously session trip JSSESession attempting keysize connected clients stream minutes negatively attached zip test client script bat guys easily adapted test client jsp trips JSSESupport call method simplest policy file demonstrate policy file issue attached patch fixes issue zip good measure recommend setting invocation count test client jconsole tool attached tomcat monitor memory notice test large chunk memory returned garbage collector apply patch update tomcat coyote jar load test notice memory consumption stays baseline Access Control Context jre gc ctx add sun ldap document loader log current
46915	Unable ResourceBundle Tomcat Created attachment details modified foreach jsp file reads properties file issue ResourceBundle JSTL tomcat problem code messageString resourceBundle code resolve result printing messageString variable set code fmt setBundle basename LocalStrings scope session messageString tested jsp tomcat webapp issue reproducible JSTL JSTL JDK working fine Tomcat Attached sample foreach jsp modified code read property file webapps examples WEB INF classes folder tomcat installation directory place file examples webapp view source Resource Bundle Resource Bundle message String resource Bundle message String set Bundle Local Strings message String bundle app locale test lib println title bnd ctxt arbitrated
48387	RemoteIpFilter parameters consistent RemoteIpValve Created attachment details Rename RemoteIpFilter protocolHeaderSslValue protocolHeaderHttpsValue RemoteIpFilter field protocolHeaderSslValue consistent RemoteIpValve named protocolHeaderHttpsValue Proposed patch renames protocolHeaderSslValue protocolHeaderHttpsValue field getter setter enhance javadoc sentence Remote Filter Remote Valve Remote Filter protocol Header Ssl protocol Header Https Remote Filter protocol Header Ssl Remote Valve protocol Header Https protocol Header Ssl protocol Header Https https code incoming http link header insensitive request usally holds
51972	sendRedirect support protocol relative URLs URL protocol relative URL server foo bar kala html server relative foo bar kala html org apache catalina connector Response java breaks protocol relative URLs toAbsolute String expects server relative toAbsolute adds protocol server port URL URLs http foo server foo bar kala html correct http server foo bar kala html send Redirect Absolute Absolute test rab app jsessionid tomcat res result xyz bug escaped
42693	JSP Generation error recursive tagfile structure addendum Version combobox scenario menu decribed tree structure rendering menu tagfile render menuitem renders current item leaf item clicking action node item clicking opens level submenu rendering submenu calling tagfile body worked fine tomcat clear pseudo code original code voluminous tagfile render menuitem tagx jsp root jsp directive attribute menu item choose test menu item isNode div node menu item label div forEach item items menu item children PROBLEM TOMCAT tags render menuitem menu item item forEach div leaf menu item label div choose jsp root faulty behaviour tomcat generated Java Source tagfile reveals body doTag method empty emits html compilation silently error warning logfiles Node Tag file mapped lock poll field find uploaded parse queue iterator
49221	javax servlet http Cookie setDomain charset javax servlet http Cookie setDomain String pattern code domain pattern toLowerCase result depends Locale safer fixed locale Local ENGLISH set Domain set Domain local cookie foo form visible allegedly starts servers presented dot
42503	ServletContext getResourceAsStream returns stale data conditions resource cache implementation servlet JSP engine org apache naming resource detect file cache modified returns previous contents file file contents modified file length doesn change time change file detected server startup reproduce problem attached test jsp test txt ROOT web app Tomcat trunk test cat test txt abcd telnet Connected Escape character test jsp HTTP HTTP Server Apache Coyote Set Cookie JSESSIONID DBEE Path Content Type text html Content Length GMT Connection close File contents abcd Connection closed foreign host cat test txt change contents size efgh telnet Connected Escape character test jsp HTTP HTTP Server Apache Coyote Set Cookie JSESSIONID Path Content Type text html Content Length GMT Connection close File contents abcd Servlet Context Resource Stream res client tmp alternate tomcat fox lorem fos bug add
47111	caching resources docu StringManager Created attachment details caching resources docu caching resources docu https issues apache org bugzilla bug cgi String Manager disable proxy nocache app ctx context webapp headers flag test
49290	JarScanner scanAllDirectories Tomcat start Created attachment details starter patch ContextConfig tolerant file URLs ContextConfig processServletContainerInitializers processResourceJARs hard coded accept jar URLs encounter file URL JarScanner scanAllDirectories ClassCastException attached patch update Tomcat start verified modified processServletContainerInitializers picks javax servlet ServletContainerInitializer file directory processResourceJARs lazy modified simply ignore file URLs BaseDirContext doesn accept jar URLs META INF resources locations Tomcat support Web Tools Platform fixed JarScanner scanAllDirectories usable feature serving web application projects development workspace work fully patch sufficient feature WTP multiple web content folders web application projects Tomcat support WTP enable customized FileDirContext handle VirtualDirContext hacks handle META INF resources directories processResourceJARs doesn order benefit processResourceJARs add file URLs BaseDirContext jar URLs marking severity major bit deadline week WTP change JarScanner web fragment xml files won picked serving projects workspace stuff won critical feature deadline WTP maintenance release late September Serving web application projects workspace Tomcat wouldn fully functional months Addressing fine Cheers Larry Jar Scanner scan Directories Context Config Context Config process Servlet Container Initializers process Resource JARs Jar Scanner scan Directories Exception process Servlet Container Initializers Servlet Container Initializer process Resource JARs Base Dir Context Jar Scanner scan Directories File Dir Context Virtual Dir Context process Resource JARs process Resource JARs Base Dir Context Jar Scanner url callback tld context webinflib classloader jars ordered lib log
48139	Tomcat Javadoc unthrown exception fixes Created attachment details Patch subject apr principal target buf javac code append patch tcn init
33356	Incorrect parsing tag attributes org apache jasper JasperException error function string prefix namespace compile JSP foo set bar silly string foo tablib Jasper string attribute JSP change set bar silly string error taglib foo tld file attribute set rtexprvalue set problem noticed tld standard jar rtexprvalue attribute set difference behaviour rtexprvalue Jasper Exception deferred jsp test baz func rab err client attr quote
47820	utility methods Tomcat instance methods addServlet methods Tomcat don instance isn cleaner instance method API uniform tomcat instance instance consistent follow pattern addServlet String String String search context requiring instance passed method add Servlet add Servlet ctx doc res test expected path localhost required servlet system
37326	error reported jsp include existent target bug expected behaviour expert area ascertain happening reading servlet JSP spec docs parts source code posted tomcat user seeking responses problem JSP includes JSP fragments jsp include actions fragment files don exist including JSP returned browser fragments included including JSP ignores missing fragments continues processed including returned problem written log file problem expected exception expected behaviour stands webapp bug unnoticed time good bringing bugs developer attention attached war simple discovered verified behaviour based fresh installs including JSP written response include response committed depending buffer size calling sendError IllegalStateException error point response committed exception logged including processing stopped allowing info discovered fragment files warfile started NetBeans batch scripts missing fragments reported addition NetBeans HTTPMonitorFilter conf web xml reported silent drawn blank info posts user http marc theaimsgroup tomcat user send Error Illegal Exception Net Beans Net Beans HTTPMonitor Filter relative path request flush handle forwarding calculated flushed resource tag
50127	NPEs SimpleTCPCluster Created attachment details Patch eliminate potential NPE code places object object method object method call conditional block eliminate check Simple TCPCluster target params excluded param stack invoke parameters resolvers remove peek
47568	TestTomcat fails delete work directory TestTomcat setUp creates work directory delete tearDown Test Tomcat Test Tomcat set tear tomcat app add test access catalina connector alv external destroy
47378	file ignores servlet mapping Web applications servlet mapping file server returns directory listing listing disabled JSF servlet defined servlet mapping jsf FacesServlet jsf listed file directory listing disabled custom servlet defined mapping set file mapping Faces Servlet add p ctx webxml pattern catalog invalid remove servletout mappingout
38553	Wrong HTTP code failed CLIENT CERT authentication server xml set clientAuth tomcat user xml create role user ssl certificate metadata web xml URL webseite create security constraint security constraint web resource collection web resource App web resource url pattern jsp url pattern web resource collection constraint role tomcat role constraint user data constraint transport guarantee CONFIDENTIAL transport guarantee user data constraint security constraint login config method CLIENT CERT method login config security role role tomcat role security role access restricted JSP client certificate browser keystore works WRONG client certificate HTTP Status authenticate credentials client certificate HTTP Status client certificate chain request stands bad request bad syntax Bug expect HTTP Status client find add roles result constraints hmces ctx element length xx
46105	URIEncoding doesn affect form authentication redirect reproduce bug Configure tomcat connector URIEncoding UTF attribute simple write request parameter Configure form based authentication access site jsp UTF charset accessed time authentication parameter incorrectly interpreted ISO UTF subsequent access URI site jsp perfect result useBobyEncodingForURI request setCharacterEncoding UTF changed Boby Encoding URI set Character Encoding encoding code character resp req text link response content url
43868	MBeanServer invoke issue Impossible invoke removeRole MBean methods setAttribute MBeanServer bug ManagedBean java lines getSetter method getInvoke method object replace object bean Fortunately getGetter method correct MBean Server remove Role set Attribute MBean Server Managed Bean Setter Invoke Getter signature aname invoking resource params attr attribute managed operation op
49118	Inefficient String concatenation loop Created attachment details Patch StringBuilder String HttpServlet toTrace method concatenates Strings loop inefficient String Builder Http Servlet Trace append req written left strings resp write elements trace delim
41059	WebAppClassLoader clearReferences code running threads WebAppClassLoader stops manually sets variables clearReferences method NPEs thread stopped expecting variables problem hot deploys unload fails terminating deploy Web App Loader clear References Web App Loader clear References loader copied webapp executor jar cache target match warn log
54115	Minor enhancements HttpClient test helper Created attachment details patch HttpClient Main reason change add accessor methods enhanced logic https issues apache org bugzilla bug cgi opportunity sendRequest method tolerant elements input array comments proper javadoc methods clarify purpose change compatible Http Client Http Client send Request client app request reset xx web html tomcat process pass
48172	JspRuntimeContext synch problems JspRuntimeContext jspReloadCount synchronised updated read getJspReloadCount instance accessed multiple threads returned current arbitrarily stale acceptable Javadoc getter synch field AtomicInteger fields classpath codeSource easily written constructor Jsp Runtime Context Jsp Runtime Context jsp Reload Count Jsp Reload Count Atomic Integer code Source increment options permission m loader counter reload holder reloaded writer
49132	JNDI working Simple web app test lookup environment context throwing exception code tomcat docs NameNotFound Exception comp environment naming context Context initCtx InitialContext Context envCtx Context initCtx lookup java comp env init Ctx Initial Context env Ctx init Ctx obj db resp print ctx connection javax data webapp crl
48113	Member hostname components printed signed bits Created attachment details Patch print hostname components unsigned Hey member hostname printed toString tcp INFO TcpFailureDetector Received memberDisappeared org apache catalina tribes membership MemberImpl tcp alive payload command domain message verify INFO TcpFailureDetector Verification complete Member alive org apache catalina tribes membership MemberImpl tcp alive payload command domain attached patch takes Arrays toString creates argument unsigned original delegates unsigned existing code behave getHostname code MemberImpl passes argument print tcp code updates java org apache catalina tribes util Arrays java java org apache catalina tribes membership MemberImpl java generated patch trunk root java org apache catalina applied directory String Tcp Failure Detector member Disappeared Member Impl Tcp Failure Detector Member Impl String Hostname Member Impl Member Impl remove members log add current perform setup fire notify disappeared
47413	difference composite expressions Tomcat tag undefined reference snippet outputs empty string Tomcat outputs critical bug ASAP foo undefined bar result app test tomcat add res body localhost jsp webapp
48117	misspellings javadoc org apache catalina startup ContextConfig Removing sercurity role security misspelled sercurity InputSource getWebXmlSource String filename String path param filename file leading path segemnts read param path Location filename relative segments misspelled segemnts Context Config Input Source Web Xml Source canonical source add coyote stream host context uploaded remove location
42039	Tomcat doesn output stack trace UnavailableException UnavailableException thrown Servlet init Tomcat doesn output stack trace UnavailableException problem lost Tomcat output stack trace invoke method StandardWrapperValue Unavailable Exception Unavailable Exception Unavailable Exception Standard Wrapper unavailable seconds code servlet permanently estimate msg permanent descriptive temporarily
49144	Incorrect lazy initialization update fields Incorrect lazy initialization update fields org apache catalina startup Bootstrap daemon org apache catalina startup ContextConfig contextDigester Findbugs method unsynchronized lazy initialization field field set object stored location updated accessed setting field visible threads set futher accesses method set field serve initialize object multithreading bug prevents thread accessing stored object fully initialized feel confident method called multiple threads set field setting fully populated initialized Context Config context Digester add descriptors mbeans digester modeler mbean loaded expunge util tomcat
49721	Fail access resources jsp files jar file supported servlet jsp file jar file test tomcat supports viewing browser failed resource app ordered singlequote result add tag folder length fragments
51641	Http NioProcessor correct release org apache coyote http Http NioProtocol Http ConnectionHandler code segment Override release SocketWrapper NioChannel socket Http NioProcessor processor connections remove socket processor processor recycle recycledProcessors offer processor Override release SocketWrapper NioChannel socket Http NioProcessor processor connections remove socket getSocket processor processor recycle recycledProcessors offer processor type connections ConcurrentHashMap NioChannel Http NioProcessor ConcurrentHashMap SocketWrapper NioChannel Http NioProcessor Nio Processor Nio Protocol Connection Handler Socket Wrapper Nio Channel Nio Processor recycled Processors Socket Wrapper Nio Channel Nio Processor Socket recycled Processors Concurrent Hash Map Nio Channel Nio Processor Concurrent Hash Map Socket Wrapper Nio Channel Nio Processor add proto released create entry ssl errors async upgrade init
43706	litmus warning WebdavServlet litmus WebDAV compliance test suite produces couple warnings copymove group tests output tomcat trunk env TESTS copymove litmus http localhost webdav running copymove init pass pass copy init pass copy simple WARNING COPY resource didn pass warning copy overwrite pass copy cleanup pass copy coll pass move WARNING MOVE resource didn pass warning move coll pass move cleanup pass finish pass summary copymove tests passed failed warnings issued patch warnings env TESTS copymove litmus http localhost webdav running copymove init pass pass copy init pass copy simple pass copy overwrite pass copy cleanup pass copy coll pass move pass move coll pass move cleanup pass finish pass summary copymove tests passed failed Webdav Servlet Web DAV keystore expect endpoint resp req compiler visit buf equals write
49340	Webapp unavailable deploy start Occurs tomcat manager html deploy war test deployed properly webapp start webapp test FAILURE tomcat returns Notes reload start unavailability webapp tomcat started start works work undeploy webapp redeploy app loader repos add context root ctx fragments content examples
