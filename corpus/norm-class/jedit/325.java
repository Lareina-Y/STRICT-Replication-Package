misc utilities miscutilities java miscellaneous utility functions tab size tabsize indent size indentsize no tabs notabs folding explicit collapse folds collapsefolds copyright copyright slava pestov richard hall dirk moebius jgellene ezust vanza kpouer vampire jarekczek satoda voituk thomas meyer martin raspe members volunteer developer team program free software redistribute modify terms gnu general license published free software foundation version license version program distributed hope warranty implied warranty merchantability fitness purpose gnu general license details received copy gnu general license program write free software foundation temple place suite boston usa org gjt jedit imports java java net malformed urlexception malformedurlexception java net uri java net urisyntax exception urisyntaxexception java net url java nio charset malformed input exception malformedinputexception java util java util regex matcher java util regex pattern org gjt jedit org gjt util log org gjt util ioutilities org gjt jedit buffer jedit buffer jeditbuffer org gjt util string list stringlist path url manipulation string manipulation frequently members path methods link get file name getfilename string link get parent of path getparentofpath string link construct path constructpath string string version misc utilities miscutilities path methods canon path canonpath method canonical form path expands leading code code local path names param path path j edit jedit pre string canon path canonpath string path path length path path starts with startswith file path path substring file length path starts with startswith file path path substring file length is url isurl path path file separator char separatorchar path path replace trim path length path char at charat trim trim path char at charat trim trim path char at charat trim trim path path substring trim path starts with startswith file separator path path substring string system get property getproperty user ends with endswith file separator path file separator path equals path system get property getproperty user equals path get parent of path getparentofpath j edit jedit get active view getactiveview get buffer getbuffer get path getpath path string var pattern string varpatternstring string var pattern string varpatternstring string win pattern string winpatternstring pattern var pattern varpattern pattern compile var pattern string varpatternstring pattern var pattern varpattern pattern compile var pattern string varpatternstring pattern win pattern winpattern pattern compile win pattern string winpatternstring string win unix string win path winpath string unix path unixpath win path winpath replace matcher win pattern winpattern matcher unix path unixpath find string var name varname group string expansion system getenv var name varname expansion replace first replacefirst expansion unix path unixpath string expand variables expandvariables string arg arg starts with startswith arg starts with startswith system get property getproperty user arg substring matcher win pattern winpattern matcher arg operating system operatingsystem is windows iswindows find win unix arg pattern var pattern varpattern matcher arg find operating system operatingsystem is windows iswindows win pattern winpattern var pattern varpattern matcher arg find arg string var name varname group string expansion system getenv var name varname expansion var name varname equals ignore case equalsignorecase jedit settings j edit jedit get settings directory getsettingsdirectory expansion j edit jedit get settings directory getsettingsdirectory var name varname var name varname to upper case touppercase string uparg arg to upper case touppercase matcher uparg expansion system getenv var name varname expansion expansion expansion replace replace first replacefirst expansion arg string abbreviate string path svc svc var compressor varcompressor svc compress path string abbreviate view abbreviateview string path j edit jedit get boolean property getbooleanproperty view abbreviate paths abbreviatepaths path abbreviate path string resolve symlinks resolvesymlinks string path is url isurl path path operating system operatingsystem is os isos path operating system operatingsystem is windows iswindows path length path length path char at charat path file path get canonical path getcanonicalpath ioexception path is absolute path isabsolutepath string path is url isurl path path starts with startswith path starts with startswith file separator equals path equals path operating system operatingsystem is windows iswindows path length path char at charat path length path char at charat path char at charat path char at charat path starts with startswith path starts with startswith operating system operatingsystem is unix isunix operating system operatingsystem is vms isvms path length path char at charat string construct path constructpath string parent string path is absolute path isabsolutepath path canon path canonpath path parent parent system get property getproperty user dir path path length parent operating system operatingsystem is windows iswindows path length path char at charat path path length path char at charat path char at charat path path substring path substring canon path canonpath path string file separator string file separator equals path parent equals path get parent of path getparentofpath parent path starts with startswith path starts with startswith parent get parent of path getparentofpath parent path path substring path starts with startswith path starts with startswith path path substring path length parent operating system operatingsystem is windows iswindows is url isurl parent path char at charat parent parent substring vfs vfs vfsmanager get vfsfor path getvfsforpath parent canon path canonpath vfs construct path constructpath parent path string construct path constructpath string parent string path string path construct path constructpath construct path constructpath parent path path string concat path concatpath string parent string path parent canon path canonpath parent path canon path canonpath path path starts with startswith file separator path path substring path length path char at charat path path replace file separator char separatorchar parent parent system get property getproperty user dir parent ends with endswith file separator parent path parent file separator path get first separator index getfirstseparatorindex string path start get path start getpathstart path path index of indexof start path index of indexof file separator char separatorchar start get last separator index getlastseparatorindex string path start get path start getpathstart path start path path substring start math max path last index of lastindexof path last index of lastindexof file separator char separatorchar start string get file extension getfileextension string path fs index fsindex get last separator index getlastseparatorindex path path last index of lastindexof fs index fsindex path substring string get file name getfilename string path vfsmanager get vfsfor path getvfsforpath path get file name getfilename path string get complete base name getcompletebasename string path string get file name getfilename path last index of lastindexof substring string get base name getbasename string path string get file name getfilename path index of indexof substring deprecated string get file name no extension getfilenamenoextension string path get base name getbasename path string get parent of path getparentofpath string path vfsmanager get vfsfor path getvfsforpath path get parent of path getparentofpath path string get protocol of url getprotocolofurl string url url substring url index of indexof is url isurl string str fs index fsindex get last separator index getlastseparatorindex str fs index fsindex fs index fsindex c index cindex str index of indexof c index cindex string protocol str substring c index cindex vfs vfs vfsmanager get vfsfor protocol getvfsforprotocol protocol vfs vfs url vfs urlvfs url str malformed urlexception malformedurlexception get nth backup file getnthbackupfile method file store nth backup file param filename file backed param backup number current backup param backups total number backup copies pre file get nth backup file getnthbackupfile string backup backups string backup prefix backupprefix string backup suffix backupsuffix string backup directory backupdirectory file backup file backupfile backup prefix backupprefix backup prefix backupprefix backup suffix backupsuffix backup suffix backupsuffix backups backup file backupfile file backup directory backupdirectory backup prefix backupprefix backup suffix backupsuffix backup file backupfile file backup directory backupdirectory backup prefix backupprefix backup suffix backupsuffix backup backup suffix backupsuffix backup file backupfile open in desktop openindesktop method opens file uri desktop file associations desktop commands platform user choose association files desktop dialog contrast desktop open ioexception unknown types uri supplied desktop browser param path uri open browse author alan ezust j edit jedit open in desktop openindesktop string path string list stringlist string list stringlist operating system operatingsystem is windows iswindows misc utilities miscutilities is url isurl path uri uri uri path java awt desktop get desktop getdesktop browse uri ioexception ioe log log log error path open uri ioe urisyntax exception urisyntaxexception log log log error path bad uri syntax add rundll add shell dll shell exec shellexec run dll rundll operating system operatingsystem is mac os ismacos add open operating system operatingsystem is x isx gnome gnome open testing gnome running correct program file file usr bin gnome open exists add gnome open add xdg open don platform is empty isempty java awt desktop get desktop getdesktop open file path add path log log log debug misc utilities miscutilities open in desktop openindesktop join runtime get runtime getruntime exec to array toarray ioexception ioe log log log error misc utilities miscutilities open in desktop openindesktop failed path ioe prepare autosave directory prepareautosavedirectory method prepares directory autosave file j edit jedit property determine directory props current directory local files directory created exist param path path buffer autosave directory code code returned local files backup directory properties j edit jedit file prepare autosave directory prepareautosavedirectory string path is local islocal vfsmanager get vfsfor path getvfsforpath path file vfs filevfs file file is local islocal file file path file file replace non path chars replacenonpathchars path file dir file dir is directory isdirectory dir dir get parent file getparentfile check autosave directory string autosave directory autosavedirectory j edit jedit get property getproperty autosave directory autosave directory autosavedirectory autosave directory autosavedirectory misc utilities miscutilities expand variables expandvariables autosave directory autosavedirectory path starts with startswith autosave directory autosavedirectory dir guard property parallel backups autosave directory autosavedirectory misc utilities miscutilities concat path concatpath autosave directory autosavedirectory dir get absolute path getabsolutepath dir file autosave directory autosavedirectory dir exists dir mkdirs is local islocal dir get backup directory getbackupdirectory method backup directory property backup directory property j edit jedit pre string get backup directory getbackupdirectory string backup directory backupdirectory j edit jedit get property getproperty backup directory backup directory backupdirectory backup directory backupdirectory length misc utilities miscutilities expand variables expandvariables backup directory backupdirectory prepare backup directory preparebackupdirectory method prepares directory backup file j edit jedit property determine directory dedicated backup directory props current directory local files directory created exist param path path buffer backup directory code code returned local files backup directory properties pre file prepare backup directory preparebackupdirectory string path is local islocal vfsmanager get vfsfor path getvfsforpath path file vfs filevfs file file is local islocal file file path file file replace non path chars replacenonpathchars path file dir file dir is directory isdirectory dir dir get parent file getparentfile check backup directory string backup directory backupdirectory get backup directory getbackupdirectory backup directory backupdirectory is local islocal path starts with startswith backup directory backupdirectory dir guard property parallel backups backup directory backupdirectory misc utilities miscutilities concat path concatpath backup directory backupdirectory dir get absolute path getabsolutepath dir file backup directory backupdirectory dir exists dir mkdirs dir prepare backup file preparebackupfile methods prepares filename performing backup file multiple backups backup renumbering checks backup earlier code backup min time mintime code property jedit properties determine backup parameters prefix suffix param path file param backup dir backupdir directory code prepare backup directory preparebackupdirectory code file suitable backup code file code code code backup code backup min time mintime code pre file prepare backup file preparebackupfile string path file backup dir backupdir read properties backups j edit jedit get integer property getintegerproperty backups string backup prefix backupprefix j edit jedit get property getproperty backup prefix string backup suffix backupsuffix j edit jedit get property getproperty backup suffix backup time distance backuptimedistance j edit jedit get integer property getintegerproperty backup min time mintime prepare backup file preparebackupfile path backups backup prefix backupprefix backup suffix backupsuffix backup dir backupdir get path getpath backup time distance backuptimedistance prepares filename performing backup file multiple backups backup renumbering checks backup earlier code backup time distance backuptimedistance code param path file param backups number backups backup files numbered param backup directory backupdirectory directory determined externally code prepare backup directory preparebackupdirectory code file suitable backup code file code code code backup code backup time distance backuptimedistance code pre file prepare backup file preparebackupfile string path backups string backup prefix backupprefix string backup suffix backupsuffix string backup directory backupdirectory backup time distance backuptimedistance file file is local islocal vfsmanager get vfsfor path getvfsforpath path file vfs filevfs is local islocal file file path file file replace non path chars replacenonpathchars path string file get name getname file backup file backupfile get nth backup file getnthbackupfile backups backup prefix backupprefix backup suffix backupsuffix backup directory backupdirectory backup file backupfile equals file log log log warning misc utilities miscutilities j edit jedit get property getproperty ioerror backup j edit jedit get property getproperty ioerror backup failed mod time modtime backup file backupfile last modified lastmodified backup file created backup time distance backuptimedistance create backup system current time millis currenttimemillis mod time modtime backup time distance backuptimedistance log log log debug misc utilities miscutilities backup backup min time mintime file last backup lastbackup get nth backup file getnthbackupfile backups backups backup prefix backupprefix backup suffix backupsuffix backup directory backupdirectory delete original file last backup lastbackup equals file last backup lastbackup delete backups backups file backup get nth backup file getnthbackupfile backups backup prefix backupprefix backup suffix backupsuffix backup directory backupdirectory file backup get nth backup file getnthbackupfile backups backup prefix backupprefix backup suffix backupsuffix backup directory backupdirectory backup rename to renameto backup backup file backupfile save backup savebackup methods saves backup optionally numbered file reads jedit properties determine backup parameters prefix suffix directory version calls code prepare backup directory preparebackupdirectory code param file local file j edit jedit pre save backup savebackup file file file backup dir backupdir prepare backup directory preparebackupdirectory file to string tostring file backup file backupfile prepare backup file preparebackupfile file to string tostring backup dir backupdir backup file backupfile save backup savebackup file backup file backupfile saves backup optionally numbered file param file local file param backups number backups backup files numbered param backup prefix backupprefix backup file prefix param backup suffix backupsuffix backup file suffix param backup directory backupdirectory directory save backups saved directory file j edit jedit pre save backup savebackup file file backups string backup prefix backupprefix string backup suffix backupsuffix string backup directory backupdirectory save backup savebackup file backups backup prefix backupprefix backup suffix backupsuffix backup directory backupdirectory saves backup optionally numbered file requires backup directory generates backup filename param file local file param backups number backups backup files numbered param backup prefix backupprefix backup file prefix param backup suffix backupsuffix backup file suffix param backup directory backupdirectory directory save backups saved directory file param backup time distance backuptimedistance minimum time minutes backup version moved version backups moved j edit jedit pre save backup savebackup file file backups string backup prefix backupprefix string backup suffix backupsuffix string backup directory backupdirectory backup time distance backuptimedistance file backup file backupfile prepare backup file preparebackupfile file to string tostring backups backup prefix backupprefix backup suffix backupsuffix backup directory backupdirectory backup time distance backuptimedistance backup file backupfile save backup savebackup file backup file backupfile saves backup local file requires source destination files param file local file param backup file backupfile local backup file j edit jedit pre save backup savebackup file file file backup file backupfile log log log debug misc utilities miscutilities saving backup file file get absolute path getabsolutepath backup file backupfile get absolute path getabsolutepath file rename to renameto backup file backupfile ioutilities move file movefile file backup file backupfile is binary isbinary methods check input stream inputstream binary encoding auto detection encoding detected stream text stream check characters j edit jedit property vfs binary check binarycheck length system encoding j edit jedit property vfs binary check binarycheck count nul stream declared binary autodetection fail method close stream param stream code code stream detected binary ioexception ioexception error occurs j edit jedit pre is binary isbinary input stream inputstream ioexception auto detection autodetection result detection auto detection autodetection result encoding detected text stream detection get detected encoding getdetectedencoding wrong binary detection contains null character containsnullcharacter input stream reader inputstreamreader detection get rewinded stream getrewindedstream malformed input exception malformedinputexception mie is backup isbackup method check filename backup file param filename filename check backup file j edit jedit pre is backup isbackup string filename filename check untitled filename matches untitled check untitled filename save filename matches untitled filename matches save check user supplied prefix suffix string backup prefix backupprefix j edit jedit get property getproperty backup prefix string backup suffix backupsuffix j edit jedit get property getproperty backup suffix backup prefix backupprefix backup prefix backupprefix is empty isempty backup suffix backupsuffix backup suffix backupsuffix is empty isempty filename starts with startswith backup prefix backupprefix filename ends with endswith backup suffix backupsuffix backup prefix backupprefix backup prefix backupprefix is empty isempty filename starts with startswith backup prefix backupprefix backup suffix backupsuffix backup suffix backupsuffix is empty isempty filename ends with endswith backup suffix backupsuffix user sets empty prefix suffix check filename ends number backup prefix backupprefix backup prefix backupprefix is empty isempty backup suffix backupsuffix backup suffix backupsuffix is empty isempty filename matches autodetect method detect stream gzipped encoding xml param input stream reader autodetected param buffer buffer autodetect encoding file reader detected encoding ioexception exception read j edit jedit pre reader autodetect input stream inputstream buffer buffer ioexception string encoding buffer encoding system get property getproperty file encoding encoding buffer get string property getstringproperty jedit buffer jeditbuffer encoding gzipped buffer buffer get boolean property getbooleanproperty buffer encoding autodetect auto detection autodetection result detection auto detection autodetection result gzipped detection stream is gzipped streamisgzipped gzipped log log log debug misc utilities miscutilities stream gzipped string detected detection get detected encoding getdetectedencoding detected encoding detected log log log debug misc utilities miscutilities stream encoding detected detected detection get rewinded stream getrewindedstream stream buffered auto detection autodetection get marked stream getmarkedstream reader result encoding server encodingserver get text reader gettextreader encoding buffer store successful properties gzipped buffer set boolean property setbooleanproperty buffer gzipped buffer set property setproperty jedit buffer jeditbuffer encoding encoding result file to class filetoclass method converts file slash characters replaced periods trailing removed param file string file to class filetoclass string cls name clsname to char array tochararray cls name clsname length cls name clsname cls name clsname string cls name clsname cls name clsname length class to file classtofile method converts file periods replaced slashes extension param string class to file classtofile string replace concat paths equal pathsequal method param path param path paths equal ignoring trailing slashes insensitivity windows j edit jedit pre paths equal pathsequal string string vfs vfsmanager get vfsfor path getvfsforpath vfs vfsmanager get vfsfor path getvfsforpath ends with endswith ends with endswith file separator substring length ends with endswith ends with endswith file separator substring length get capabilities getcapabilities vfs insensitive cap equals ignore case equalsignorecase equals text methods escapes to chars escapestochars method converts escapes string newlines tabs param str string j edit jedit pre string escapes to chars escapestochars string str string builder stringbuilder buf string builder stringbuilder str length str char at charat str length buf append str char at charat buf append buf append buf append buf append buf to string tostring string get longest prefix getlongestprefix list string str ignore case ignorecase str is empty isempty prefix length prefixlength loop string str prefix length prefixlength length loop char at charat prefix length prefixlength str size str prefix length prefixlength length loop compare chars comparechars char at charat prefix length prefixlength ignore case ignorecase loop prefix length prefixlength str substring prefix length prefixlength string get longest prefix getlongestprefix string str ignore case ignorecase get longest prefix getlongestprefix object str ignore case ignorecase string get longest prefix getlongestprefix object str ignore case ignorecase str length prefix length prefixlength string str to string tostring loop prefix length prefixlength length loop char at charat prefix length prefixlength str length string str to string tostring prefix length prefixlength length loop compare chars comparechars char at charat prefix length prefixlength ignore case ignorecase loop prefix length prefixlength substring prefix length prefixlength string build to version buildtoversion string build build length unknown version build chars major version number major integer parse int parseint build substring minor number minor integer parse int parseint build substring pre release status beta integer parse int parseint build substring micro version number micro integer parse int parseint build substring major minor beta pre beta micro is tools jar available istoolsjaravailable method jdk higher tools jar method called plugins requiring classes library tools jar searched places classpath j edit jedit started j edit jedit jars folder user j edit jedit system jars folder java lib tools jar j edit jedit list jars j edit jedit add plugin jar addpluginjar loaded jarclass loader jarclassloader older jdk method perform checks returns code code tools jar code code jdk tools jar prints warnings log places searched j edit jedit is tools jar available istoolsjaravailable log log log debug misc utilities miscutilities searching tools jar collection string paths linked list linkedlist string check tools jar system classpath paths add system classpath system get property getproperty java path sun tools javac main for name forname sun tools javac main class not found exception classnotfoundexception for name forname sun tools javac main log log log debug misc utilities miscutilities classpath fine class not found exception classnotfoundexception check j edit jedit user settings jars folder string settings dir settingsdir j edit jedit get settings directory getsettingsdirectory settings dir settingsdir string tools path toolspath construct path constructpath settings dir settingsdir jars tools jar paths add tools path toolspath file tools path toolspath exists log log log debug misc utilities miscutilities user jars folder fine j edit jedit load automatically check j edit jedit system jars folder string j edit dir jeditdir j edit jedit get jedit home getjedithome j edit dir jeditdir string tools path toolspath construct path constructpath j edit dir jeditdir jars tools jar paths add tools path toolspath file tools path toolspath exists log log log debug misc utilities miscutilities j edit jedit system jars folder fine j edit jedit load automatically check java lib string tools path toolspath system get property getproperty java tools path toolspath to lower case tolowercase ends with endswith file separator jre tools path toolspath tools path toolspath substring tools path toolspath length tools path toolspath construct path constructpath tools path toolspath lib tools jar paths add tools path toolspath file tools path toolspath exists log log log warning misc utilities miscutilities find tools jar checked locations paths to string tostring load plugin jar pluginjar jar j edit jedit get plugin jar getpluginjar tools path toolspath jar log log log debug misc utilities miscutilities adding tools path toolspath j edit jedit plugins j edit jedit add plugin jar addpluginjar tools path toolspath log log log debug misc utilities miscutilities loaded parse permissions parsepermissions method parse unix style permission string rwxrwxrwx param string characters j edit jedit pre parse permissions parsepermissions string permissions length char at charat permissions char at charat permissions char at charat permissions char at charat permissions char at charat permissions char at charat permissions char at charat permissions char at charat permissions char at charat permissions char at charat permissions char at charat permissions char at charat permissions char at charat permissions char at charat permissions char at charat permissions permissions get encodings getencodings methods returns list supported character encodings j edit jedit param get selected getselected selected encodings string get encodings getencodings get selected getselected set string set get selected getselected set encoding server encodingserver get selected names getselectednames set encoding server encodingserver get available names getavailablenames set to array toarray string set size throwable to string throwabletostring method returns string stack trace throwable j edit jedit pre string throwable to string throwabletostring throwable string writer stringwriter string writer stringwriter print stack trace printstacktrace print writer printwriter to string tostring members misc utilities miscutilities compare chars comparechars method compares chars param param param ignore case ignorecase ignore compare chars comparechars ignore case ignorecase ignore case ignorecase character to upper case touppercase character to upper case touppercase get path start getpathstart method get path start getpathstart string path path starts with startswith operating system operatingsystem is windows iswindows path length path char at charat path char at charat path char at charat contains null character containsnullcharacter reader reader ioexception nb chars nbchars j edit jedit get integer property getintegerproperty vfs binary check binarycheck length authorized j edit jedit get integer property getintegerproperty vfs binary check binarycheck count nb chars nbchars reader read authorized authorized string replace non path chars replacenonpathchars string path string replace with replacewith path string s foreign chars sforeignchars string builder stringbuilder sb foreign chars esc sbforeigncharsesc string builder stringbuilder s foreign chars sforeignchars length sb foreign chars esc sbforeigncharsesc append sb foreign chars esc sbforeigncharsesc append s foreign chars sforeignchars char at charat path replace all replaceall sb foreign chars esc sbforeigncharsesc replace with replacewith store properties storeproperties properties props output stream outputstream string comments ioexception properties sorted properties override enumeration object collections enumeration tree set treeset object props key set keyset override set map entry object object entry set entryset tree map treemap object object props entry set entryset sorted put all putall props sorted store comments var compressor varcompressor svc var compressor varcompressor map string string prefix map prefixmap hash map hashmap string string map string string previous hash map hashmap string string var compressor varcompressor process builder processbuilder process builder processbuilder map string string env environment operating system operatingsystem is unix isunix prefix map prefixmap system get property getproperty user j edit jedit get settings directory getsettingsdirectory prefix map prefixmap j edit jedit get settings directory getsettingsdirectory jedit settings map entry string string entry env entry set entryset string entry get key getkey equals ignore case equalsignorecase pwd equals ignore case equalsignorecase oldpwd character is letter isletter char at charat string entry get value getvalue can be path prefix canbepathprefix ends with endswith file separator substring length operating system operatingsystem is windows iswindows length length length length operating system operatingsystem is windows iswindows to lower case tolowercase to lower case tolowercase prefix map prefixmap contains key containskey string other key otherkey prefix map prefixmap other key otherkey length length prefix map prefixmap string compress string path string original path previous contains key containskey path previous path string best prefix bestprefix string verified prefix verifiedprefix best prefix bestprefix string try prefix tryprefix prefix map prefixmap key set keyset try prefix tryprefix length best prefix bestprefix length operating system operatingsystem is windows iswindows path to lower case tolowercase starts with startswith try prefix tryprefix best prefix bestprefix try prefix tryprefix path starts with startswith try prefix tryprefix best prefix bestprefix try prefix tryprefix best prefix bestprefix equals verified prefix verifiedprefix string remainder original substring best prefix bestprefix length remainder length remainder starts with startswith file separator verified prefix verifiedprefix best prefix bestprefix best prefix bestprefix verified prefix verifiedprefix best prefix bestprefix length string remainder original substring best prefix bestprefix length string envvar prefix map prefixmap best prefix bestprefix envvar equals path envvar remainder operating system operatingsystem is windows iswindows path envvar to upper case touppercase remainder path envvar remainder previous original path path can be path prefix canbepathprefix string file path separator pathseparator file is absolute isabsolute