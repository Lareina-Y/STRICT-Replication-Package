org gjt jedit java closeable java file java file output stream fileoutputstream java ioexception java nio byte buffer bytebuffer java nio channels file channel filechannel org gjt util ioutilities org gjt util log org gjt util task task asynchronous saving local file disk ommiting vfs api stack store backup files settings ftp ftp vfs ftpvfs perform local backups remote files background gui freeze thread utilities threadutilities run in background runinbackground local file save task localfilesavetask author vadim voituk j edit jedit pre todo add set label setlabel amp progress observer progressobserver methods local file save task localfilesavetask task buffer size file file string body string charset local file save task localfilesavetask file file string body string charset file file body body charset charset org gjt util task override file output stream fileoutputstream file channel filechannel file output stream fileoutputstream file get channel getchannel src body get bytes getbytes charset file output stream fileoutputstream file get channel getchannel byte buffer bytebuffer buff byte buffer bytebuffer allocate buffer size length src length set maximum setmaximum length todo change set status setstatus saving length bytes file get path getpath written written length written write byte buffer bytebuffer buff src written math min buffer size length written flip buff rewind set value setvalue written ioexception log log log error ioutilities close quietly closequietly closeable ioutilities close quietly closequietly closeable