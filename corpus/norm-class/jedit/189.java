chunk cache chunkcache java intermediate layer token lists token marker tokenmarker screen tab size tabsize indent size indentsize no tabs notabs folding explicit collapse folds collapsefolds copyright slava pestov program free software redistribute modify terms gnu general license published free software foundation version license version program distributed hope warranty implied warranty merchantability fitness purpose gnu general license details received copy gnu general license program write free software foundation temple place suite boston usa org gjt jedit textarea imports java util javax swing text tab expander tabexpander org gjt jedit buffer jedit buffer jeditbuffer org gjt jedit debug org gjt jedit syntax org gjt util log manages level text display tasks visible lines text area textarea chunk cache chunkcache array line info lineinfo object line info lineinfo object screen text area textarea informations array resized text area textarea geometry author slava pestov version chunk cache chunkcache chunk cache chunkcache constructor chunk cache chunkcache text area textarea text area textarea text area textarea text area textarea out full outfull array list arraylist chunk out full physical line outfullphysicalline token handler tokenhandler display token handler displaytokenhandler get max horizontal scroll width getmaxhorizontalscrollwidth method returns max width textarea check lines info array max width get max horizontal scroll width getmaxhorizontalscrollwidth max line info lineinfo length line info lineinfo info line info lineinfo info width max max info width max get screen line of offset getscreenlineofoffset method param physical number document param offset number characters left returns screen number offset returns position visible get screen line of offset getscreenlineofoffset offset line info lineinfo length text area textarea get first physical line getfirstphysicalline text area textarea get first physical line getfirstphysicalline offset get line info getlineinfo offset text area textarea get last physical line getlastphysicalline last screen line p lastscreenlinep line info lineinfo get line info getlineinfo last screen line lastscreenline offset offset offset offset length last screen line lastscreenline screen line screenline find screen offset text area textarea get visible lines getvisiblelines line info lineinfo info get line info getlineinfo info physical line physicalline invisible info physical line physicalline offset info offset offset info offset info length screen line screenline screen line screenline last screen line p lastscreenlinep last screen line lastscreenline screen line screenline screen line screenline recalculate visible lines recalculatevisiblelines method recalculate visible lines called text area textarea geometry changed font changed recalculate visible lines recalculatevisiblelines line info lineinfo new line info newlineinfo line info lineinfo text area textarea get visible lines getvisiblelines start line info lineinfo start start math min line info lineinfo length new line info newlineinfo length system arraycopy line info lineinfo new line info newlineinfo start start new line info newlineinfo length new line info newlineinfo line info lineinfo line info lineinfo new line info newlineinfo last screen line lastscreenline last screen line p lastscreenlinep set buffer setbuffer method set buffer setbuffer jedit buffer jeditbuffer buffer buffer buffer last screen line lastscreenline last screen line p lastscreenlinep scroll down scrolldown method scroll down scrolldown amount visible lines visiblelines text area textarea get visible lines getvisiblelines system arraycopy line info lineinfo amount line info lineinfo visible lines visiblelines amount visible lines visiblelines amount visible lines visiblelines line info lineinfo line info lineinfo first invalid line firstinvalidline amount first invalid line firstinvalidline first invalid line firstinvalidline debug chunk cache debug system err println amount updates last screen line lastscreenline last screen line p lastscreenlinep scroll up scrollup method scroll up scrollup amount system arraycopy line info lineinfo line info lineinfo amount text area textarea get visible lines getvisiblelines amount amount line info lineinfo line info lineinfo don old first invalid line oldfirstinvalidline first invalid line firstinvalidline first invalid line firstinvalidline update chunks up to updatechunksupto amount first invalid line firstinvalidline old first invalid line oldfirstinvalidline amount first invalid line firstinvalidline text area textarea get visible lines getvisiblelines first invalid line firstinvalidline text area textarea get visible lines getvisiblelines debug chunk cache debug log log log debug amount updates last screen line lastscreenline last screen line p lastscreenlinep invalidate all invalidateall method invalidate all invalidateall first invalid line firstinvalidline last screen line lastscreenline last screen line p lastscreenlinep reset invalidate all invalidateall out full physical line outfullphysicalline out full outfull clear invalidate chunks from phys invalidatechunksfromphys method invalidate chunks from phys invalidatechunksfromphys physical line physicalline physical line physicalline out full physical line outfullphysicalline out full physical line outfullphysicalline first invalid line firstinvalidline line info lineinfo info line info lineinfo info physical line physicalline info physical line physicalline physical line physicalline first invalid line firstinvalidline last screen line lastscreenline last screen line lastscreenline last screen line p lastscreenlinep get line info getlineinfo method returns informations screen line info lineinfo requested code screen line screenline code range param screen line screenline screen line info lineinfo screen line screenline line info lineinfo get line info getlineinfo screen line screenline screen line screenline line info lineinfo length line info lineinfo update chunks up to updatechunksupto screen line screenline line info lineinfo screen line screenline get line subregion count getlinesubregioncount method returns number subregions physical param physical line physicalline physical number subregions physical get line subregion count getlinesubregioncount physical line physicalline text area textarea soft wrap softwrap line to chunk list linetochunklist physical line physicalline size out full outfull size size size get subregion of offset getsubregionofoffset method returns subregion offset subregion subset physical screen corresponds subregion link get screen line of offset getscreenlineofoffset method method works visible lines param offset offset param line infos lineinfos line infos lineinfos array usualy array result link get line infos for physical line getlineinfosforphysicalline call subregion offset offset line infos lineinfos get subregion of offset getsubregionofoffset offset line info lineinfo line infos lineinfos line infos lineinfos length line info lineinfo info line infos lineinfos offset info offset offset info offset info length x to subregion offset xtosubregionoffset method converts ordinate subregion offset start subregion param physical line physicalline physical number param subregion subregion subregion param ordinate param character middle character offset start subregion x to subregion offset xtosubregionoffset physical line physicalline subregion line info lineinfo infos get line infos for physical line getlineinfosforphysicalline physical line physicalline subregion subregion infos length x to subregion offset xtosubregionoffset infos subregion x to subregion offset xtosubregionoffset method converts ordinate subregion offset start subregion param info info object param ordinate param character middle character offset start subregion x to subregion offset xtosubregionoffset line info lineinfo info offset chunk x to offset xtooffset info chunks offset offset info offset info length offset info offset info length offset subregion offset to x subregionoffsettox method converts offset subregion ordinate param physical line physicalline physical param offset offset ordinate offset subregion subregion offset to x subregionoffsettox physical line physicalline offset line info lineinfo infos get line infos for physical line getlineinfosforphysicalline physical line physicalline line info lineinfo info infos get subregion of offset getsubregionofoffset offset infos subregion offset to x subregionoffsettox info offset subregion offset to x subregionoffsettox method converts offset subregion ordinate param info info object param offset offset ordinate offset subregion subregion offset to x subregionoffsettox line info lineinfo info offset chunk offset to x offsettox info chunks offset get subregion start offset getsubregionstartoffset method returns start offset subregion physical param physical number param offset offset start offset subregion get subregion start offset getsubregionstartoffset offset line info lineinfo line infos lineinfos get line infos for physical line getlineinfosforphysicalline line info lineinfo info line infos lineinfos get subregion of offset getsubregionofoffset offset line infos lineinfos text area textarea get line start offset getlinestartoffset info physical line physicalline info offset get subregion end offset getsubregionendoffset method returns offset subregion physical param physical number param offset offset offset subregion get subregion end offset getsubregionendoffset offset line info lineinfo line infos lineinfos get line infos for physical line getlineinfosforphysicalline line info lineinfo info line infos lineinfos get subregion of offset getsubregionofoffset offset line infos lineinfos text area textarea get line start offset getlinestartoffset info physical line physicalline info offset info length get below position getbelowposition method param physical line physicalline physical number param offset offset param location param ignore wrap ignorewrap behave soft wrap get below position getbelowposition physical line physicalline offset ignore wrap ignorewrap line info lineinfo line infos lineinfos get line infos for physical line getlineinfosforphysicalline physical line physicalline subregion get subregion of offset getsubregionofoffset offset line infos lineinfos subregion line infos lineinfos length ignore wrap ignorewrap text area textarea get line start offset getlinestartoffset physical line physicalline x to subregion offset xtosubregionoffset line infos lineinfos subregion next line nextline text area textarea display manager displaymanager get next visible line getnextvisibleline physical line physicalline next line nextline text area textarea get line start offset getlinestartoffset next line nextline x to subregion offset xtosubregionoffset next line nextline get above position getaboveposition method param physical line physicalline physical number param offset offset param location param ignore wrap ignorewrap behave soft wrap get above position getaboveposition physical line physicalline offset ignore wrap ignorewrap line info lineinfo line infos lineinfos get line infos for physical line getlineinfosforphysicalline physical line physicalline subregion get subregion of offset getsubregionofoffset offset line infos lineinfos subregion ignore wrap ignorewrap text area textarea get line start offset getlinestartoffset physical line physicalline x to subregion offset xtosubregionoffset line infos lineinfos subregion prev line prevline text area textarea display manager displaymanager get prev visible line getprevvisibleline physical line physicalline prev line prevline text area textarea get line start offset getlinestartoffset prev line prevline x to subregion offset xtosubregionoffset prev line prevline need full repaint needfullrepaint method need full repaint needfullrepaint variable number screen lines physical text area textarea full repaint need full repaint needfullrepaint ret val retval need full repaint needfullrepaint need full repaint needfullrepaint ret val retval get line infos for physical line getlineinfosforphysicalline method line info lineinfo get line infos for physical line getlineinfosforphysicalline physical line physicalline buffer is loading isloading line to chunk list linetochunklist physical line physicalline physical line physicalline out full physical line outfullphysicalline list chunk chunk list chunklist out full outfull is empty isempty chunk list chunklist array list arraylist chunk chunk list chunklist add chunk list chunklist out full outfull list line info lineinfo return value returnvalue array list arraylist line info lineinfo chunk list chunklist size get line infos for physical line getlineinfosforphysicalline physical line physicalline return value returnvalue chunk list chunklist return value returnvalue to array toarray line info lineinfo chunk list chunklist size members instance variables text area textarea text area textarea jedit buffer jeditbuffer buffer line info lineinfo array line info lineinfo visible text area textarea resized link recalculate visible lines recalculatevisiblelines content valid link first invalid line firstinvalidline line info lineinfo line info lineinfo chunks current physical link out full physical line outfullphysicalline chunks created call link line to chunk list linetochunklist list chunk out full outfull physical number current tokenized chunked field tokenized out full outfull cache dropped link reset call link out full outfull out full physical line outfullphysicalline invalid lines valid first invalid line firstinvalidline last screen line p lastscreenlinep last screen line lastscreenline need full repaint needfullrepaint display token handler displaytokenhandler token handler tokenhandler get line infos for physical line getlineinfosforphysicalline method get line infos for physical line getlineinfosforphysicalline physical line physicalline list line info lineinfo list list chunk chunk list chunklist out full physical line outfullphysicalline physical line physicalline chunk list chunklist size chunk chunks chunk list chunklist line info lineinfo info line info lineinfo info physical line physicalline physical line physicalline info first subregion firstsubregion info offset info offset chunks offset chunk list chunklist size info last subregion lastsubregion info length text area textarea get line length getlinelength physical line physicalline info offset info length out full outfull offset info offset info chunks chunks list add info get first screen line getfirstscreenline method find valid closest screen get first screen line getfirstscreenline first invalid line firstinvalidline line info lineinfo last subregion lastsubregion get update start line getupdatestartline method physical number get update start line getupdatestartline first screen line firstscreenline text area physical first screen line firstscreenline text area textarea get first physical line getfirstphysicalline determine visible prev phys line prevphysline line info lineinfo first screen line firstscreenline physical line physicalline buffer lines visible prev phys line prevphysline text area textarea display manager displaymanager get next visible line getnextvisibleline prev phys line prevphysline update chunks up to updatechunksupto method update chunks up to updatechunksupto last screen line lastscreenline method nightmare last screen line lastscreenline line info lineinfo length array index out of bounds exception arrayindexoutofboundsexception last screen line lastscreenline screen don update chunks leave last screen line lastscreenline first invalid line firstinvalidline first screen line firstscreenline get first screen line getfirstscreenline physical line physicalline get update start line getupdatestartline first screen line firstscreenline debug chunk cache debug log log log debug updating chunks first screen line firstscreenline last screen line lastscreenline comment partly note rely fact physical invalidated screen lines subregions invalidated comment code uphold assumption list chunk array list arraylist chunk offset length first screen line firstscreenline last screen line lastscreenline line info lineinfo info line info lineinfo chunk chunks chunks is empty isempty number physical line physicalline first screen line firstscreenline physical line physicalline text area textarea display manager displaymanager get next visible line getnextvisibleline physical line physicalline empty space physical line physicalline info chunks info physical line physicalline bug horiz scroll bar updated creating file info width chunk line to chunk list linetochunklist physical line physicalline out full outfull sub list sublist out full outfull size info first subregion firstsubregion text size is empty isempty text area textarea display manager displaymanager first line firstline get skew getskew log log log error bug skew text area textarea display manager displaymanager first line firstline get skew getskew size size text area textarea display manager displaymanager first line firstline set skew setskew need full repaint needfullrepaint last screen line lastscreenline line info lineinfo length chunks offset length number subregions fixme first line firstline skew text area textarea display manager displaymanager first line firstline get skew getskew skew size skew greater chunk count chunk subregion log log log error bug skew skew size size need full repaint needfullrepaint last screen line lastscreenline line info lineinfo length skew info first subregion firstsubregion out full outfull sub list sublist skew out full outfull size chunks sub list sublist size offset chunks offset is empty isempty length offset offset length text area textarea get line length getlinelength physical line physicalline offset info first subregion firstsubregion chunks sub list sublist size offset chunks offset is empty isempty length offset offset length text area textarea get line length getlinelength physical line physicalline offset last subregion lastsubregion is empty isempty last screen line lastscreenline last screen line lastscreenline line info lineinfo length user syntax token full repaint token handler tokenhandler get line context getlinecontext info line context linecontext last screen line lastscreenline need full repaint needfullrepaint longer shorter physical number cached updating advise text area repaint hand wraps last screen line lastscreenline updating chunk list ensure proper alignment invalidation flags start method info physical line physicalline physical line physicalline info last subregion lastsubregion last subregion lastsubregion last screen line lastscreenline need full repaint needfullrepaint cache entire physical lines don split physical screen lines valid is empty isempty last screen line lastscreenline info physical line physicalline physical line physicalline info last subregion lastsubregion last subregion lastsubregion info offset offset info length length info chunks chunks info line context linecontext token handler tokenhandler get line context getlinecontext first invalid line firstinvalidline math max last screen line lastscreenline first invalid line firstinvalidline line to chunk list linetochunklist method chunks fill out full outfull array chunks physical line to chunk list linetochunklist physical line physicalline physical line physicalline out full physical line outfullphysicalline physical line physicalline text area painter textareapainter painter text area textarea get painter getpainter tab expander tabexpander expander text area textarea get tab expander gettabexpander token handler tokenhandler init painter get styles getstyles painter get font render context getfontrendercontext expander out full outfull text area textarea soft wrap softwrap text area textarea wrap margin wrapmargin buffer get line start offset getlinestartoffset physical line physicalline out full outfull clear buffer mark tokens marktokens physical line physicalline token handler tokenhandler out full physical line outfullphysicalline physical line physicalline informations fast access softwrap divided subregions line info lineinfo physical physical line physicalline offset offset length length subregion first subregion firstsubregion subregion last subregion lastsubregion chunk chunks width width token marker tokenmarker line context linecontext line context linecontext override string to string tostring line info lineinfo physical line physicalline offset length first subregion firstsubregion last subregion lastsubregion