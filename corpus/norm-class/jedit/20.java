token marker tokenmarker java tokenizes lines text tab size tabsize indent size indentsize no tabs notabs folding explicit collapse folds collapsefolds copyright slava pestov copyright mike dillon program free software redistribute modify terms gnu general license published free software foundation version license version program distributed hope warranty implied warranty merchantability fitness purpose gnu general license details received copy gnu general license program write free software foundation temple place suite boston usa org gjt jedit syntax imports javax swing text segment java lang weak reference weakreference java util java util regex matcher java util regex pattern org gjt jedit text utilities textutilities org gjt util segment char sequence segmentcharsequence token marker splits lines text tokens token carries length field identification tag mapped color font style painting token author slava pestov mike dillon version org gjt jedit syntax token org gjt jedit syntax token handler tokenhandler token marker tokenmarker token marker tokenmarker constructor token marker tokenmarker add rule set addruleset method add rule set addruleset parser rule set parserruleset rules rule sets rulesets rules get set name getsetname rules main equals rules get set name getsetname main rule set mainruleset rules get main rule set getmainruleset method parser rule set parserruleset get main rule set getmainruleset main rule set mainruleset get rule set getruleset method parser rule set parserruleset get rule set getruleset string set name setname rule sets rulesets set name setname get rule sets getrulesets method j edit jedit pre parser rule set parserruleset get rule sets getrulesets rule sets rulesets values to array toarray parser rule set parserruleset rule sets rulesets size mark tokens marktokens method call method call buffer mark tokens marktokens param prev context prevcontext context previous param token handler tokenhandler token handler param segment content line context linecontext mark tokens marktokens line context linecontext prev context prevcontext token handler tokenhandler token handler tokenhandler segment set instance variables avoid pass lots lots parameters token handler tokenhandler token handler tokenhandler last offset lastoffset offset line length linelength count offset context line context linecontext prev context prevcontext context rules get main rule set getmainruleset context escape rule escaperule context rules get escape rule getescaperule context parent prev context prevcontext parent context set in rule setinrule prev context prevcontext in rule inrule context rules prev context prevcontext rules context span end subst spanendsubst prev context prevcontext span end subst spanendsubst context span end subst regex spanendsubstregex prev context prevcontext span end subst regex spanendsubstregex keywords context rules get keywords getkeywords seen whitespace end seenwhitespaceend whitespace end whitespaceend offset main parser loop terminate char terminatechar context rules get terminate char getterminatechar terminated main loop pos offset pos line length linelength pos check parsing terminate char terminatechar exceeded terminate char terminatechar pos offset terminate char terminatechar terminated terminated context line context linecontext parser rule set parserruleset get standard rule set getstandardruleset context rules get default getdefault context keywords context rules get keywords getkeywords check escape rule context escape rule escaperule handle rule start handlerulestart context escape rule escaperule main loop check delegate context parent context parent in rule inrule check delegate end checkdelegateend context parent in rule inrule seen whitespace end seenwhitespaceend main loop check rule character character value of valueof array pos list parser rule parserrule rules context rules get rules getrules parser rule parserrule rule rules checking rules match handle rule start handlerulestart rule seen whitespace end seenwhitespaceend main loop check current character word separator character is whitespace iswhitespace seen whitespace end seenwhitespaceend whitespace end whitespaceend pos context in rule inrule handle rule end handleruleend context in rule inrule handle no word break handlenowordbreak mark keyword markkeyword last offset lastoffset pos token handler tokenhandler handle token handletoken context rules get default getdefault last offset lastoffset offset pos last offset lastoffset context token handler tokenhandler handle token handletoken context rules get default getdefault pos offset context last offset lastoffset pos keywords context rules get rule count getrulecount string no word sep nowordsep context rules get no word sep getnowordsep character is letter or digit isletterordigit no word sep nowordsep index of indexof context in rule inrule handle rule end handleruleend context in rule inrule handle no word break handlenowordbreak mark keyword markkeyword token handler tokenhandler handle token handletoken context rules get default getdefault last offset lastoffset offset context last offset lastoffset pos seen whitespace end seenwhitespaceend mark remaining characters pos line length linelength context in rule inrule handle rule end handleruleend context in rule inrule handle no word break handlenowordbreak mark keyword markkeyword unwind parent delegates unwind context parent parser rule parserrule rule context parent in rule inrule rule rule action parser rule parserrule parser rule parserrule terminated context context parent keywords context rules get keywords getkeywords context set in rule setinrule unwind token handler tokenhandler handle token handletoken token pos offset context context context intern token handler tokenhandler set line context setlinecontext context token handler tokenhandler context members instance variables map string parser rule set parserruleset rule sets rulesets hashtable string parser rule set parserruleset parser rule set parserruleset main rule set mainruleset passing method store instance variables note thread safe token handler tokenhandler token handler tokenhandler mark tokens segment context current line context linecontext context keyword map keywordmap keywords segment pattern segment last offset lastoffset line length linelength pos whitespace end whitespaceend seen whitespace end seenwhitespaceend check delegate end checkdelegateend method check delegate end checkdelegateend parser rule parserrule rule rule rule end regexp endregexp line context linecontext temp context tempcontext context context context parent keywords context rules get keywords getkeywords handled handle rule end handleruleend rule context temp context tempcontext keywords context rules get keywords getkeywords handled context in rule inrule handle rule end handleruleend context in rule inrule mark keyword markkeyword context line context linecontext context parent clone token handler tokenhandler handle token handletoken match token matchtoken context in rule inrule context in rule inrule context pos offset pattern count context keywords context rules get keywords getkeywords context set in rule setinrule last offset lastoffset pos pattern count move pos character match sequence pos pattern count offset matches offsetmatches checks offset matches position match hint parser rule parserrule offset matches offsetmatches offset pos match posmatch pos match posmatch parser rule parserrule start parser rule parserrule start offset offset pos match posmatch parser rule parserrule whitespace parser rule parserrule whitespace offset whitespace end whitespaceend pos match posmatch parser rule parserrule word start parser rule parserrule word start offset last offset lastoffset handle rule start handlerulestart method checks rule matches current position start handles rule match handle rule start handlerulestart parser rule parserrule check rule checkrule rules match locations check rule checkrule up hash chars uphashchars check rule checkrule up hash char uphashchar pos check rule checkrule up hash char uphashchar length array length check hash string checkhashstring check rule checkrule arrays binary search binarysearch check rule checkrule up hash chars uphashchars character to upper case touppercase array pos offset check rule checkrule action parser rule parserrule mark previous last offset lastoffset pos offset matches offsetmatches offset check rule checkrule start pos match startposmatch matched chars matchedchars matcher match rule start sequence matches check rule checkrule action parser rule parserrule regexp pattern array check rule checkrule start pattern offset pattern count pattern array length matched chars matchedchars pattern count syntax utilities syntaxutilities region matches regionmatches context rules get ignore case getignorecase pos pattern array note regexps start match start string match start matchstart pos offset char sequence charsequence char seq charseq segment char sequence segmentcharsequence pos offset count pos offset match check rule checkrule start regexp startregexp matcher char seq charseq match looking at lookingat match start internal error internalerror happen matched chars matchedchars match workaround hang match width handle matched chars matchedchars matched chars matchedchars check rule checkrule action parser rule parserrule escape parser rule parserrule escape pos pattern count context in rule inrule handle rule end handleruleend context in rule inrule mark keyword markkeyword check rule checkrule action parser rule parserrule mark previous parser rule parserrule mark previous check rule checkrule action parser rule parserrule major actions seq parser rule parserrule seq context span end subst spanendsubst context span end subst regex spanendsubstregex check rule checkrule action parser rule parserrule regexp handle token with spaces handletokenwithspaces token handler tokenhandler check rule checkrule token pos offset matched chars matchedchars context token handler tokenhandler handle token handletoken check rule checkrule token pos offset matched chars matchedchars context ruleset seq onwards check rule checkrule delegate context line context linecontext check rule checkrule delegate context parent keywords context rules get keywords getkeywords span eol span parser rule parserrule span parser rule parserrule eol span context set in rule setinrule check rule checkrule token type tokentype match token matchtoken check rule checkrule context in rule inrule context check rule checkrule action parser rule parserrule regexp handle token with spaces handletokenwithspaces token handler tokenhandler token type tokentype pos offset matched chars matchedchars context token handler tokenhandler handle token handletoken token type tokentype pos offset matched chars matchedchars context span end subst spanendsubst pattern span end subst regex spanendsubstregex substitute result matching rule start string shell script mode matched construct rules highlighting read ins eof eof match match group count groupcount check rule checkrule span end subst spanendsubst substitute match check rule checkrule check rule checkrule end regexp endregexp pattern check rule checkrule end regexp endregexp pattern to char array tochararray pattern substitute match pattern span end subst regex spanendsubstregex pattern compile string pattern context span end subst spanendsubst span end subst spanendsubst context span end subst regex spanendsubstregex span end subst regex spanendsubstregex context line context linecontext check rule checkrule delegate context keywords context rules get keywords getkeywords mark parser rule parserrule mark token handler tokenhandler handle token handletoken match token matchtoken check rule checkrule check rule checkrule context pos offset pattern count context context span end subst spanendsubst context span end subst regex spanendsubstregex context set in rule setinrule check rule checkrule mark previous parser rule parserrule mark previous context span end subst spanendsubst context span end subst regex spanendsubstregex pos last offset lastoffset token handler tokenhandler handle token handletoken check rule checkrule token last offset lastoffset offset pos last offset lastoffset context token handler tokenhandler handle token handletoken match token matchtoken check rule checkrule check rule checkrule context pos offset pattern count context internal error internalerror unhandled major action move pos character match sequence pos matched chars matchedchars last offset lastoffset pos loop check handle rule end handleruleend method checks rule matches current position handles rule match handle rule end handleruleend parser rule parserrule check rule checkrule rules match locations offset check rule checkrule action parser rule parserrule mark previous last offset lastoffset pos offset matches offsetmatches offset check rule checkrule end pos match endposmatch rule sequence matches check rule checkrule action parser rule parserrule mark check rule checkrule action parser rule parserrule regexp context span end subst spanendsubst pattern array context span end subst spanendsubst pattern array check rule checkrule pattern offset pattern count pattern array length syntax utilities syntaxutilities region matches regionmatches context rules get ignore case getignorecase pos pattern array char sequence charsequence char seq charseq segment char sequence segmentcharsequence pos offset count pos offset pattern regex context span end subst regex spanendsubstregex regex context span end subst regex spanendsubstregex regex check rule checkrule end regexp endregexp matcher match regex matcher char seq charseq match looking at lookingat check delegate end checkdelegateend pattern count match escape rules handled handle rule start handlerulestart check rule checkrule action parser rule parserrule escape handle mark context in rule inrule action parser rule parserrule mark pos last offset lastoffset token handler tokenhandler handle token handletoken context in rule inrule token last offset lastoffset offset pos last offset lastoffset context last offset lastoffset pos context set in rule setinrule handle no word break handlenowordbreak method handle no word break handlenowordbreak context parent parser rule parserrule rule context parent in rule inrule rule context parent in rule inrule action parser rule parserrule word pos last offset lastoffset token handler tokenhandler handle token handletoken rule token last offset lastoffset offset pos last offset lastoffset context last offset lastoffset pos context context parent keywords context rules get keywords getkeywords context set in rule setinrule handle token with spaces handletokenwithspaces method handle token with spaces handletokenwithspaces token handler tokenhandler token handler tokenhandler token type tokentype start len line context linecontext context start start len start character is whitespace iswhitespace array offset token handler tokenhandler handle token handletoken token type tokentype context token handler tokenhandler handle token handletoken token type tokentype context token handler tokenhandler handle token handletoken token type tokentype context mark keyword markkeyword method mark keyword markkeyword add remaining addremaining len pos last offset lastoffset len digits context rules get highlight digits gethighlightdigits digit mixed last offset lastoffset pos array character is digit isdigit digit mixed mixed pattern digit re digitre context rules get digit regexp getdigitregexp digits digits point matching digit digit re digitre mixed digit alpha keyword regexp don highlight digit digit old count oldcount count old offset oldoffset offset offset last offset lastoffset count len char sequence charsequence seq segment char sequence segmentcharsequence digit digit re digitre matcher seq matches offset old offset oldoffset count old count oldcount digit token handler tokenhandler handle token handletoken token digit last offset lastoffset offset len context last offset lastoffset pos keywords keywords keywords lookup last offset lastoffset len token token handler tokenhandler handle token handletoken last offset lastoffset offset len context last offset lastoffset pos handle remaining crud add remaining addremaining token handler tokenhandler handle token handletoken context rules get default getdefault last offset lastoffset offset len context last offset lastoffset pos substitute method perform substitution references code code matched groups code match code replaced match group code match code replaced group code code matched single bracket character replaced complementary bracket param match code matcher code produced matching start regex param pattern substitute param escape escape matched text inserting code code result interpreted regex pattern substituted pattern substitute matcher match escape string builder stringbuilder buf string builder stringbuilder length length buf append digit character is digit isdigit digit buf append string text match group digit escape text text utilities textutilities escape text escapetext text buf append text string match group digit length text utilities textutilities get complementary bracket getcomplementarybracket char at charat char at charat buf append buf append buf append return value returnvalue buf length buf get chars getchars buf length return value returnvalue return value returnvalue match token matchtoken method match token matchtoken parser rule parserrule rule parser rule parserrule base line context linecontext ctx rule match type matchtype parser rule parserrule match type rule base token parser rule parserrule match type context context rules get default getdefault rule match type matchtype check hash string checkhashstring method check hash string checkhashstring parser rule parserrule rule rule up hash char uphashchar length character to upper case touppercase array pos rule up hash char uphashchar stores persistent syntax parser line context linecontext weak hash map weakhashmap line context linecontext weak reference weakreference line context linecontext intern weak hash map weakhashmap line context linecontext weak reference weakreference line context linecontext line context linecontext parent parser rule parserrule in rule inrule parser rule set parserruleset rules span regexp rules span end subst spanendsubst pattern span end subst regex spanendsubstregex parser rule parserrule escape rule escaperule line context linecontext constructor line context linecontext parser rule set parserruleset line context linecontext rules parent line context linecontext clone spans delegate propagate escape rule child context needed get mode name getmodename escape rule escaperule rules get escape rule getescaperule escape rule escaperule escape rule escaperule line context linecontext constructor line context linecontext intern method line context linecontext intern weak reference weakreference line context linecontext intern line context linecontext obj obj obj intern weak reference weakreference line context linecontext hash code hashcode method hash code hashcode code code parent parent hash code hashcode code in rule inrule in rule inrule hash code hashcode code rules rules hash code hashcode code span end subst spanendsubst span end subst spanendsubst hash code hashcode code span end subst regex spanendsubstregex span end subst regex spanendsubstregex hash code hashcode code equals method equals object obj obj line context linecontext line context linecontext line context linecontext obj in rule inrule in rule inrule rules rules objects equals parent parent char arrays equal chararraysequal span end subst spanendsubst span end subst spanendsubst objects equals span end subst regex spanendsubstregex span end subst regex spanendsubstregex clone method override object clone line context linecontext line context linecontext in rule inrule in rule inrule rules rules parent parent line context linecontext parent clone span end subst spanendsubst span end subst spanendsubst span end subst regex spanendsubstregex span end subst regex spanendsubstregex escape rule escaperule escape rule escaperule char arrays equal chararraysequal method char arrays equal chararraysequal length length length set in rule setinrule method sets current rule processed adjusts escape rule context based rule set in rule setinrule parser rule parserrule rule in rule inrule rule rule rule escape rule escaperule escape rule escaperule rule escape rule escaperule rules rules get mode name getmodename escape rule escaperule rules get escape rule getescaperule parent escape rule escaperule parent escape rule escaperule escape rule escaperule