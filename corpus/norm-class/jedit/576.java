org gjt jedit bsh java java util java lang reflect invocation target exception invocationtargetexception java lang reflect method author pat niemeyer pat pat net suppress warnings suppresswarnings unchecked class generator impl classgeneratorimpl class generator classgenerator generate class generateclass string modifiers modifiers interfaces super class superclass bshblock block is interface isinterface call stack callstack callstack interpreter interpreter eval error evalerror delegate method generate class impl generateclassimpl modifiers interfaces super class superclass block is interface isinterface callstack interpreter object invoke superclass method invokesuperclassmethod bsh class manager bshclassmanager bcm object instance string method name methodname object args util eval error utilevalerror reflect error reflecterror invocation target exception invocationtargetexception delegate method invoke superclass method impl invokesuperclassmethodimpl bcm instance method name methodname args change parent instance namespace support note method removed set instance name space parent setinstancenamespaceparent object instance string class name classname name space namespace parent ithis class generator util classgeneratorutil get class instance this getclassinstancethis instance class name classname ithis get name space getnamespace set parent setparent parent parse bshblock definition generate class generator classgenerator generate class impl generateclassimpl string modifiers modifiers interfaces super class superclass bshblock block is interface isinterface call stack callstack callstack interpreter interpreter eval error evalerror eliminated bit work capabilities set accessibility setaccessibility capabilities unavailable eval error evalerror defining classes requires reflective accessibility block callstack name space namespace enclosing name space enclosingnamespace callstack top string package name packagename enclosing name space enclosingnamespace get package getpackage string class name classname enclosing name space enclosingnamespace is class isclass enclosing name space enclosingnamespace get name getname string fq class name fqclassname package name packagename class name classname package name packagename class name classname bsh class manager bshclassmanager bcm interpreter get class manager getclassmanager race condition bcm defining class definingclass fq class name fqclassname create namespace name space namespace class static name space classstaticnamespace name space namespace enclosing name space enclosingnamespace class name classname class static name space classstaticnamespace is class isclass callstack push class static name space classstaticnamespace evaluate definitions block effectively recursively call method contained classes block eval block evalblock callstack interpreter override class node filter classnodefilter classclasses generate type variable variables get declared variables getdeclaredvariables block callstack interpreter package name packagename delayed eval bsh method delayedevalbshmethod methods get declared methods getdeclaredmethods block callstack interpreter package name packagename class generator util classgeneratorutil class generator classgenerator class generator util classgeneratorutil modifiers class name classname package name packagename super class superclass interfaces variables methods class static name space classstaticnamespace is interface isinterface code class generator classgenerator generate class generateclass debug write file debug classes debugclasses directory string dir system get property getproperty debug classes debugclasses dir file output stream fileoutputstream file output stream fileoutputstream dir class name classname write code close ioexception define classloader gen class genclass bcm define class defineclass fq class name fqclassname code unq parent enclosing name space enclosingnamespace import class importclass fq class name fqclassname replace class static name space classstaticnamespace set local variable setlocalvariable class generator util classgeneratorutil bshinit strict java strictjava block util eval error utilevalerror interpreter error interpretererror unable init space classes defined class static name space classstaticnamespace set class static setclassstatic gen class genclass evaluate portion block space block eval block evalblock callstack interpreter override class node filter classnodefilter classstatic callstack pop gen class genclass is interface isinterface set bsh callback string bsh static field name bshstaticfieldname class generator util classgeneratorutil bshstatic class name classname lhs lhs reflect get lhsstatic field getlhsstaticfield gen class genclass bsh static field name bshstaticfieldname lhs assign class static name space classstaticnamespace get this getthis interpreter strict exception interpreter error interpretererror error gen setup bcm done defining class donedefiningclass fq class name fqclassname gen class genclass variable get declared variables getdeclaredvariables bshblock body call stack callstack callstack interpreter interpreter string default package defaultpackage list vars array list arraylist child child body jjt get num children jjtgetnumchildren child simple node simplenode node simple node simplenode body jjt get child jjtgetchild child node bshtyped variable declaration bshtypedvariabledeclaration bshtyped variable declaration bshtypedvariabledeclaration tvd bshtyped variable declaration bshtypedvariabledeclaration node modifiers modifiers tvd modifiers string type tvd get type descriptor gettypedescriptor callstack interpreter default package defaultpackage bshvariable declarator bshvariabledeclarator vardec tvd get declarators getdeclarators vardec length string vardec variable variable type modifiers vars add util eval error utilevalerror variable vars to array toarray variable delayed eval bsh method delayedevalbshmethod get declared methods getdeclaredmethods bshblock body call stack callstack callstack interpreter interpreter string default package defaultpackage eval error evalerror list methods array list arraylist child child body jjt get num children jjtgetnumchildren child simple node simplenode node simple node simplenode body jjt get child jjtgetchild child node bshmethod declaration bshmethoddeclaration bshmethod declaration bshmethoddeclaration bshmethod declaration bshmethoddeclaration node insure nodes parsed insurenodesparsed modifiers modifiers modifiers string string return type returntype get return type descriptor getreturntypedescriptor callstack interpreter default package defaultpackage bshreturn type bshreturntype return type node returntypenode get return type node getreturntypenode bshformal parameters bshformalparameters param types node paramtypesnode params node paramsnode string param types paramtypes param types node paramtypesnode get type descriptors gettypedescriptors callstack interpreter default package defaultpackage delayed eval bsh method delayedevalbshmethod delayed eval bsh method delayedevalbshmethod return type returntype return type node returntypenode params node paramsnode get param names getparamnames param types paramtypes param types node paramtypesnode declaring name space declaringnamespace block node blocknode modifiers callstack interpreter methods add delayed eval bsh method delayedevalbshmethod methods to array toarray delayed eval bsh method delayedevalbshmethod node filter filters nodes body initializer instance initializer members passed class node filter classnodefilter bshblock node filter nodefilter instance classes class node filter classnodefilter classstatic class node filter classnodefilter class node filter classnodefilter classinstance class node filter classnodefilter instance class node filter classnodefilter classclasses class node filter classnodefilter classes context class node filter classnodefilter context context context is visible isvisible simple node simplenode node context classes node bshclass declaration bshclassdeclaration decs classes node bshclass declaration bshclassdeclaration context is static isstatic node context instance is static isstatic node is static isstatic simple node simplenode node node bshtyped variable declaration bshtypedvariabledeclaration bshtyped variable declaration bshtypedvariabledeclaration node modifiers bshtyped variable declaration bshtypedvariabledeclaration node modifiers has modifier hasmodifier node bshmethod declaration bshmethoddeclaration bshmethod declaration bshmethoddeclaration node modifiers bshmethod declaration bshmethoddeclaration node modifiers has modifier hasmodifier add block node bshblock object invoke superclass method impl invokesuperclassmethodimpl bsh class manager bshclassmanager bcm object instance string method name methodname object args util eval error utilevalerror reflect error reflecterror invocation target exception invocationtargetexception string super name supername class generator util classgeneratorutil bshsuper method name methodname specially named delegate method clas instance get class getclass method super method supermethod reflect resolve java method resolvejavamethod bcm clas super name supername types get types gettypes args only static onlystatic super method supermethod reflect invoke method invokemethod super method supermethod instance args method invoke regular method superfluous legal super class superclass clas get superclass getsuperclass super method supermethod reflect resolve expected java method resolveexpectedjavamethod bcm super class superclass instance method name methodname args only static onlystatic reflect invoke method invokemethod super method supermethod instance args