vfsmanager java main virtual filesystem tab size tabsize indent size indentsize no tabs notabs folding explicit collapse folds collapsefolds copyright slava pestov program free software redistribute modify terms gnu general license published free software foundation version license version program distributed hope warranty implied warranty merchantability fitness purpose gnu general license details received copy gnu general license program write free software foundation temple place suite boston usa org gjt jedit imports javax swing joption pane joptionpane java awt component java awt event queue eventqueue java awt frame java ioexception java lang reflect invocation target exception invocationtargetexception java util org gjt jedit bufferio io task iotask org gjt jedit gui error list dialog errorlistdialog org gjt jedit msg vfsupdate org gjt jedit org gjt util log org gjt util task org gjt util task manager taskmanager org gjt util thread utilities threadutilities org gjt util awt runnable queue awtrunnablequeue org gjt util standard utilities standardutilities j edit jedit virtual filesystem transparently edit files stored local filesystem ftp site link vfs implementation details note j edit jedit api thread safe special care making j edit jedit api calls safe call code swing utilities swingutilities invoke and wait invokeandwait code work request deadlock runnable calls link wait for requests waitforrequests author slava pestov version vfsmanager service type link org gjt jedit service manager servicemanager j edit jedit pre string service org gjt jedit vfs init method call init start method call start awt runnable queue awtrunnablequeue instance start vfs methods get file vfs getfilevfs method returns local filesystem vfs j edit jedit pre vfs get file vfs getfilevfs file vfs filevfs get url vfs geturlvfs method returns url vfs j edit jedit pre vfs get url vfs geturlvfs url vfs urlvfs get vfsfor protocol getvfsforprotocol method returns vfs protocol param protocol protocol j edit jedit pre vfs get vfsfor protocol getvfsforprotocol string protocol protocol equals file file vfs filevfs vfs vfs vfs service manager servicemanager get service getservice service protocol vfs vfs url vfs urlvfs get vfsfor path getvfsforpath method returns vfs path param path path j edit jedit pre vfs get vfsfor path getvfsforpath string path misc utilities miscutilities is url isurl path get vfsfor protocol getvfsforprotocol misc utilities miscutilities get protocol of url getprotocolofurl path file vfs filevfs get vfss getvfss method returns list registered filesystems j edit jedit pre string get vfss getvfss sooner ppl move api crap list string return value returnvalue linked list linkedlist string string new api newapi service manager servicemanager get service names getservicenames service new api newapi collections add all addall return value returnvalue new api newapi return value returnvalue to array toarray string return value returnvalue size request methods wait for requests waitforrequests method returns pending requests complete called event dispatch thread j edit jedit pre wait for requests waitforrequests event queue eventqueue is dispatch thread isdispatchthread illegal state exception illegalstateexception task manager taskmanager instance wait for io tasks waitforiotasks error occurred erroroccurred method returns request caused error error occurred erroroccurred error get request count getrequestcount method returns number pending requests get request count getrequestcount task manager taskmanager instance count io tasks countiotasks run in awtthread runinawtthread method executes runnable awt thread pending requests complete code runnable code executed current thread edt requests active queued moment call j edit jedit pre deprecated method task awt thread wait background task causing unwanted delays calling task background work add runnable edt thread background task org gjt util thread utilities threadutilities run in dispatch thread runindispatchthread runnable org gjt util thread utilities threadutilities run in dispatch thread and wait runindispatchthreadandwait runnable deprecated run in awtthread runinawtthread runnable awt runnable queue awtrunnablequeue instance run after io tasks runafteriotasks run in work thread runinworkthread method executes runnable threads j edit jedit pre deprecated method threadpool links awt threads work threads org gjt util thread utilities threadutilities run in background runinbackground org gjt util task org gjt util thread utilities threadutilities run in background runinbackground runnable deprecated run in work thread runinworkthread task io task iotask illegal argument exception illegalargumentexception thread utilities threadutilities run in background runinbackground error method handle error j edit jedit pre error ioexception string path component comp log log log error vfsmanager vfsmanager error comp path ioerror string to string tostring error method reports error urgency code log error code param comp component param path path caused error param message prop messageprop error message property param args positional parameters j edit jedit pre error component comp string path string message prop messageprop object args error comp path message prop messageprop args log error reports error param comp component param path path caused error param message prop messageprop error message property param args positional parameters param urgency logging urgency level j edit jedit pre error component comp string path string message prop messageprop object args urgency runnable runnable override frame frame joption pane joptionpane get frame for component getframeforcomponent comp error lock errorlock error errors add error list dialog errorlistdialog error entry errorentry path message prop messageprop args urgency errors size error displayer active errordisplayeractive thread utilities threadutilities run in background runinbackground error displayer errordisplayer frame thread utilities threadutilities run in dispatch thread and wait runindispatchthreadandwait send vfsupdate sendvfsupdate method sends vfs update message param vfs vfs param path path changed param parent update path parent j edit jedit pre send vfsupdate sendvfsupdate vfs vfs string path parent parent send vfsupdate sendvfsupdate vfs vfs get parent of path getparentofpath path send vfsupdate sendvfsupdate vfs path hack vfspath written path length path ends with endswith path ends with endswith java file separator path path substring path length vfs update lock vfsupdatelock vfsupdate msg vfs updates vfsupdates msg get path getpath equals path path vfs updates vfsupdates add vfsupdate path vfs updates vfsupdates size add update add update sending runnable awt thread awt runnable queue awtrunnablequeue instance run after io tasks runafteriotasks send vfsupdates safely sendvfsupdatessafely send vfsupdates safely sendvfsupdatessafely send vfsupdates safely sendvfsupdatessafely runnable vfs update lock vfsupdatelock vfs browser call design flaw doesn update properly vfs update parent arrives updates children sorting list alphanumerically guarantees collections sort vfs updates vfsupdates standard utilities standardutilities string compare stringcompare vfsupdate vfsupdate vfs update vfsupdate vfs updates vfsupdates edit bus editbus send vfs update vfsupdate vfs updates vfsupdates clear members variables vfs file vfs filevfs vfs url vfs urlvfs error object error lock errorlock object vector error list dialog errorlistdialog error entry errorentry errors object vfs update lock vfsupdatelock object list vfsupdate vfs updates vfsupdates indicator error displayer errordisplayer active accessed error lock errorlock error displayer active errordisplayeractive initializer errors vector error list dialog errorlistdialog error entry errorentry file vfs filevfs file vfs filevfs url vfs urlvfs url vfs urlvfs vfs updates vfsupdates array list arraylist vfsupdate error displayer errordisplayer error displayer errordisplayer runnable frame frame error displayer errordisplayer frame frame frame frame show dialog showdialog frame frame vector error list dialog errorlistdialog error entry errorentry errors event queue eventqueue invoke and wait invokeandwait runnable string j edit jedit get property getproperty ioerror errors size integer integer value of valueof errors size error list dialog errorlistdialog frame is showing isshowing frame j edit jedit get first view getfirstview j edit jedit get property getproperty ioerror title errors interrupted exception interruptedexception thread current thread currentthread interrupt invocation target exception invocationtargetexception ite log log log error error displayer errordisplayer ite error lock errorlock threads spawn simultaneously error displayer active errordisplayeractive error displayer active errordisplayeractive loop breaks errors size error lock errorlock errors size error displayer active errordisplayeractive errors wait bit accumulating stay coming err count errcount err count errcount err count errcount err count errcount errors vector vectors err count errcount errors size thread sleep interrupted exception interruptedexception thread current thread currentthread interrupt err count errcount errors size errors didn display dialog displayed arrive stay loop vector error list dialog errorlistdialog error entry errorentry errors copy errorscopy error lock errorlock errors copy errorscopy vector error list dialog errorlistdialog error entry errorentry errors errors clear error show dialog showdialog frame errors copy errorscopy vfsmanager