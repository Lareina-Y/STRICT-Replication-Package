asm small fast java bytecode manipulation framework copyright inria france telecom copyright france telecom library free software redistribute modify terms gnu lesser general license published free software foundation version license option version library distributed hope warranty implied warranty merchantability fitness purpose gnu lesser general license details received copy gnu lesser general license library write free software foundation temple place suite boston usa contact eric bruneton francetelecom author eric bruneton org gjt jedit bsh org objectweb asm class writer classwriter class visitor classvisitor type constant constant pool items type constant fieldref constant pool items field type constant methodref constant pool items meth type constant interface methodref interfacemethodref constant pool items imeth type constant string constant pool items str type constant integer constant pool items type constant constant pool items type constant constant pool items type constant constant pool items type constant name and type nameandtype constant pool items type type constant utf constant pool items utf item constant pool constant pool byte vector bytevector pool constant pool hash table data item table threshold constant pool hash table threshold access flags access constant pool item internal constant pool item internal super name supername number interfaces implemented extended interface count interfacecount interfaces implemented extended precisely array indexes constant pool items internal names interfaces interfaces constant pool item source file compiled item source file sourcefile number fields field count fieldcount fields byte vector bytevector fields maximum stack size number local variables automatically computed compute maxs computemaxs methods methods stored linked list link code writer codewriter code writer codewriter objects linked link code writer codewriter field field stores element list code writer codewriter first method firstmethod methods methods stored linked list link code writer codewriter code writer codewriter objects linked link code writer codewriter field field stores element list code writer codewriter last method lastmethod number entries inner classes innerclasses attribute inner classes count innerclassescount inner classes innerclasses attribute byte vector bytevector inner classes innerclasses reusable key items hash link table table item key reusable key items hash link table table item key reusable key items hash link table table item key type instructions label noarg insn type instructions signed label sbyte insn type instructions signed label insn type instructions local variable label insn type instructions implicit local variable label implvar insn type instructions type descriptor argument type insn type field method invocations instructions fieldormeth insn type invokeinterface instruction itfmeth insn type instructions bytes bytecode offset label label insn type instructions bytes bytecode offset label labelw insn type ldc instruction ldc insn type ldc ldc instructions ldcw insn type iinc instruction iinc insn type tableswitch instruction tabl insn type lookupswitch instruction insn type multianewarray instruction mana insn type wide instruction wide insn instruction types jvm opcodes type string aaaaaaaaaaaaaaaabcklldddddeeeeeeeeeeeeeeeeeeeeaaaaaaaadddddeeeeeeeee eeeeeeeeeeeaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaamaaa aaaaaaaaaaaaaaaaaiiiiiiiiiiiiiiiidnoaaaaaaggggggghafbfaaffaaqpiijjii iiiiiiiiiiiiiiii length char at charat type code generate string sbyte insn instructions constants newarray sbyte insn constants bipush sbyte insn insn instructions constants sipush insn impl insn instructions constants ret insn constants iload constants aload insn constants istore constants astore insn iload aload implvar insn istore astore implvar insn type insn instructions constants type insn constants anewarray type insn constants checkcast type insn constants type insn set fieldormeth insn instructions constants getstatic constants invokestatic fieldormeth insn constants invokeinterface itfmeth insn label insn instructions constants ifeq constants jsr label insn constants ifnull label insn constants ifnonnull label insn labelw insn labelw insn jsr temporary opcodes internally asm label code writer codewriter label insn ldc instructions constants ldc ldc insn ldcw insn ldc ldcw insn ldc special instructions constants iinc iinc insn constants tableswitch tabl insn constants lookupswitch insn constants multianewarray mana insn wide insn wide length system err print system err println class writer classwriter compute maxs computemaxs pool byte vector bytevector table item threshold table length key item key item key item compute maxs computemaxs compute maxs computemaxs implementation class visitor classvisitor visit access string string super name supername string interfaces string source file sourcefile access access new class newclass super name supername super name supername new class newclass super name supername interfaces interfaces length interface count interfacecount interfaces length interfaces interface count interfacecount interface count interfacecount interfaces new class newclass interfaces source file sourcefile new utf newutf source file sourcefile source file sourcefile new utf newutf source file sourcefile access constants acc deprecated new utf newutf deprecated visit inner class visitinnerclass string string outer name outername string inner name innername access inner classes innerclasses new utf newutf inner classes innerclasses inner classes innerclasses byte vector bytevector inner classes count innerclassescount inner classes innerclasses new class newclass inner classes innerclasses outer name outername new class newclass outer name outername inner classes innerclasses inner name innername new utf newutf inner name innername inner classes innerclasses access visit field visitfield access string string desc object field count fieldcount fields fields byte vector bytevector fields access new utf newutf new utf newutf desc attribute count attributecount attribute count attributecount access constants acc synthetic attribute count attributecount access constants acc deprecated attribute count attributecount fields attribute count attributecount fields new utf newutf constant value constantvalue fields new cst newcst access constants acc synthetic fields new utf newutf synthetic access constants acc deprecated fields new utf newutf deprecated code visitor codevisitor visit method visitmethod access string string desc string exceptions code writer codewriter code writer codewriter compute maxs computemaxs init access desc exceptions visit end visitend methods returns bytecode build writer bytecode build writer to byte array tobytearray computes real size bytecode size interface count interfacecount fields size fields length nb methods nbmethods code writer codewriter first method firstmethod nb methods nbmethods size get size getsize size pool length attribute count attributecount source file sourcefile attribute count attributecount size access constants acc deprecated attribute count attributecount size inner classes innerclasses attribute count attributecount size inner classes innerclasses length allocates vector size order avoid unnecessary arraycopy operations byte vector bytevector enlarge method byte vector bytevector byte vector bytevector size x cafebabe xcafebabe put byte array putbytearray pool data pool length access super name supername interface count interfacecount interface count interfacecount interfaces field count fieldcount fields put byte array putbytearray fields data fields length nb methods nbmethods first method firstmethod attribute count attributecount source file sourcefile new utf newutf source file sourcefile source file sourcefile access constants acc deprecated new utf newutf deprecated inner classes innerclasses new utf newutf inner classes innerclasses inner classes innerclasses length inner classes count innerclassescount put byte array putbytearray inner classes innerclasses data inner classes innerclasses length data utility methods constant pool management adds number string constant constant pool build constant pool item param cst constant constant pool parameter link java lang integer integer link java lang link java lang link java lang link string string existing constant item item new cst newcst object cst cst integer val integer cst int value intvalue new integer newinteger val cst val cst float value floatvalue new float newfloat val cst val cst long value longvalue new long newlong val cst val cst double value doublevalue new double newdouble val cst string new string newstring string cst illegal argument exception illegalargumentexception cst adds utf string constant pool build constant pool item param string existing utf item item new utf newutf string key set utf item result key result pool utf put utf pututf result item key result result adds reference constant pool build constant pool item param internal existing reference item item new class newclass string key set item result key result pool new utf newutf result item key result result adds field reference constant pool build constant pool item param owner internal field owner param field param desc field descriptor existing field reference item item new field newfield string owner string string desc key set field owner desc item result key result field new class newclass owner new name type newnametype desc result item key result result adds method reference constant pool build constant pool item param owner internal method owner param method param desc method descriptor existing method reference item item new method newmethod string owner string string desc key set meth owner desc item result key result meth new class newclass owner new name type newnametype desc result item key result result adds method reference constant pool build constant pool item param owner itf owneritf internal method owner param method param desc method descriptor existing method reference item item new itf method newitfmethod string owner itf owneritf string string desc key set imeth owner itf owneritf desc item result key result imeth new class newclass owner itf owneritf new name type newnametype desc result item key result result adds integer constant pool build constant pool item param existing item item new integer newinteger key set item result key result pool result item key result result adds constant pool build constant pool item param existing item item new float newfloat key set item result key result pool float to int bits floattointbits result item key result result adds constant pool build constant pool item param existing item item new long newlong key set item result key result pool result item key result result adds constant pool build constant pool item param existing item item new double newdouble key set item result key result pool double to long bits doubletolongbits result item key result result adds string constant pool build constant pool item param string existing string item item new string newstring string key set str item result key result pool str new utf newutf result item key result result adds type constant pool build constant pool item param param desc type descriptor existing type item item new name type newnametype string string desc key set type desc item result key result type new utf newutf new utf newutf desc result item key result result returns constant pool hash table item equal item param key constant pool item constant pool hash table item equal item item item item key item tab table hash code hashcode key hash code hashcode hash code hashcode fffffff tab length item tab hash code hashcode hash code hashcode key is equal to isequalto puts item constant pool hash table hash table item param item constant pool hash table item threshold old capacity oldcapacity table length item old map oldmap table new capacity newcapacity old capacity oldcapacity item new map newmap item new capacity newcapacity threshold new capacity newcapacity table new map newmap old capacity oldcapacity item old map oldmap item hash code hashcode fffffff new capacity newcapacity new map newmap new map newmap hash code hashcode fffffff table length table table puts shorts constant pool param param param pool