buffer printable bufferprintable java printable implementation tab size tabsize indent size indentsize no tabs notabs folding explicit collapse folds collapsefolds copyright dale anson program free software redistribute modify terms gnu general license published free software foundation version license version program distributed hope warranty implied warranty merchantability fitness purpose gnu general license details received copy gnu general license program write free software foundation temple place suite boston usa org gjt jedit print imports javax swing text tab expander tabexpander java awt font java awt geom java awt print java awt java awt rendering hints renderinghints java util java util list javax print attribute standard chromaticity javax print attribute print request attribute set printrequestattributeset javax print attribute standard page ranges pageranges org gjt jedit syntax org gjt jedit org gjt util buffer printable lot properly printing ranges reverse printing printing selection version buffer printable bufferprintable java daleanson buffer printable bufferprintable printable color header color headercolor color light gray lightgray color header text color headertextcolor color black color footer color footercolor color light gray lightgray color footer text color footertextcolor color black color line number color linenumbercolor color gray color text color textcolor color black print request attribute set printrequestattributeset attributes first call firstcall view view buffer buffer reverse print range type printrangetype print range type printrangetype print range type printrangetype font font syntax style syntaxstyle styles header footer line numbers linenumbers hash map hashmap integer range current physical line currentphysicalline printing line numbers printinglinenumbers line metrics linemetrics list chunk line list linelist font render context fontrendercontext frc display token handler displaytokenhandler token handler tokenhandler buffer printable bufferprintable print request attribute set printrequestattributeset attributes view view buffer buffer attributes attributes view view buffer buffer ranges calculated first call firstcall reverse attributes contains key containskey reverse attributes contains key containskey print range type printrangetype print range type printrangetype print range type printrangetype attributes print range type printrangetype buffer buffer property numbers buffer temporary buffer representing selected text numbers correspond selected lines printing line numbers printinglinenumbers buffer get property getproperty printing line numbers printinglinenumbers header j edit jedit get boolean property getbooleanproperty print header footer j edit jedit get boolean property getbooleanproperty print footer line numbers linenumbers j edit jedit get boolean property getbooleanproperty print line numbers linenumbers font j edit jedit get font property getfontproperty print font color chromaticity color equals attributes chromaticity log log log debug color color log log log debug chromaticity attributes chromaticity styles org gjt util syntax utilities syntaxutilities load styles loadstyles j edit jedit get property getproperty print font j edit jedit get integer property getintegerproperty print fontsize color styles token syntax style syntaxstyle text color textcolor font assume paper white change white text black styles length syntax style syntaxstyle styles get foreground color getforegroundcolor equals color white get background color getbackgroundcolor styles syntax style syntaxstyle color black get background color getbackgroundcolor get font getfont line list linelist array list arraylist chunk token handler tokenhandler display token handler displaytokenhandler set font setfont font font font font font avoid recalculate ranges set pages setpages hash map hashmap integer range called multiple times print system calls handled print properly print graphics gfx page format pageformat page format pageformat page index pageindex printer exception printerexception page index pageindex based based page index pageindex log log log debug asked print page index pageindex first call firstcall calculate pages calculatepages gfx page format pageformat is empty isempty printer exception printerexception unable determine ranges first call firstcall adjust reverse printing reverse print range type printrangetype current equals print range type printrangetype page index pageindex size page index pageindex log log log debug reverse changing page index pageindex print range range page index pageindex log log log debug range range range in range inrange page index pageindex print range type printrangetype current equals print range type printrangetype log log log debug returning page index pageindex print page printpage gfx page format pageformat page index pageindex log log log debug returning exists page index pageindex exists parses file determine lines belong param gfx graphics context calculations param page format pageformat format calculations param force force calculation large file limits hashmap number range note handles large files lines buffer size larger large buffer size largebuffersize property printer exception thrown lines buffer longer long line limit longlinelimit property printer exception thrown adequate handle large files poor handle files large hash map hashmap integer range calculate pages calculatepages graphics gfx page format pageformat page format pageformat printer exception printerexception log log log debug calculate pages calculatepages buffer get name getname log log log debug graphics get clip getclip gfx get clip getclip hash map hashmap integer range check large file settings string large file mode largefilemode buffer get string property getstringproperty largefilemode full equals large file mode largefilemode large buffer size largebuffersize j edit jedit get integer property getintegerproperty large buffer size largebuffersize buffer get length getlength large buffer size largebuffersize printer exception printerexception buffer large print ensure graphics font rendering context valid gfx happen startup graphics valid rendering hints set text area option pane affine transform basic work cases turn print spacing workaround text area option pane character overlap setting graphics draw glyph vector drawglyphvector draw characters javadoc fastest render set characters screen graphics gfx graphics gfx gfx set rendering hint setrenderinghint key text antialiasing view get text area gettextarea get painter getpainter get anti alias getantialias render hint renderhint use fractional font metrics usefractionalfontmetrics j edit jedit get boolean property getbooleanproperty view frac font metrics fracfontmetrics gfx set rendering hint setrenderinghint key fractionalmetrics use fractional font metrics usefractionalfontmetrics fractionalmetrics fractionalmetrics gfx set font setfont font gfx set transform settransform affine transform affinetransform frc gfx get font render context getfontrendercontext log log log debug font render context frc maximum printable area page x pagex page format pageformat get imageable x getimageablex page y pagey page format pageformat get imageable y getimageabley page width pagewidth page format pageformat get imageable width getimageablewidth page height pageheight page format pageformat get imageable height getimageableheight calculate header height header header height headerheight paint header paintheader gfx page x pagex page y pagey page width pagewidth page y pagey header height headerheight page height pageheight header height headerheight log log log debug calculate pages calculatepages header imageable page x pagex page y pagey page width pagewidth page height pageheight calculate footer height footer footer height footerheight paint footer paintfooter gfx page x pagex page y pagey page width pagewidth page height pageheight page height pageheight footer height footerheight log log log debug calculate pages calculatepages footer imageable page x pagex page y pagey page width pagewidth page height pageheight line number width linenumberwidth determine number width line numbers linenumbers string line number digits linenumberdigits string value of valueof buffer get line count getlinecount string builder stringbuilder digits string builder stringbuilder line number digits linenumberdigits length digits append line number width linenumberwidth font get string bounds getstringbounds digits to string tostring frc get width getwidth calculate tab size tab size tabsize j edit jedit get integer property getintegerproperty print tab size tabsize string builder stringbuilder tabs string builder stringbuilder chars tab size tabsize tab size tabsize tabs append tab width tabwidth font get string bounds getstringbounds tabs to string tostring frc get width getwidth print tab expander printtabexpander tab expander tabexpander print tab expander printtabexpander tab width tabwidth prep calculations font get line metrics getlinemetrics g gy yx ggyyx frc line height lineheight get height getheight print folds printfolds j edit jedit get boolean property getbooleanproperty print folds current physical line currentphysicalline page count pagecount start line startline measure long line limit longlinelimit j edit jedit get integer property getintegerproperty long line limit longlinelimit buffer line count bufferlinecount buffer get line count getlinecount current physical line currentphysicalline buffer line count bufferlinecount size roughly characters wide lines tall current physical line currentphysicalline buffer line count bufferlinecount buffer get line length getlinelength current physical line currentphysicalline long line limit longlinelimit printer exception printerexception current physical line currentphysicalline print current physical line currentphysicalline buffer line count bufferlinecount range range range start line startline current physical line currentphysicalline integer value of valueof page count pagecount range log log log debug calculate pages calculatepages page count pagecount range skip folded lines print folds printfolds view get text area gettextarea get display manager getdisplaymanager is line visible islinevisible current physical line currentphysicalline current physical line currentphysicalline fill list line list linelist clear token handler tokenhandler init styles frc tab expander tabexpander line list linelist page width pagewidth line number width linenumberwidth buffer mark tokens marktokens current physical line currentphysicalline token handler tokenhandler check lines fit line height lineheight line list linelist is empty isempty line list linelist size page height pageheight range range range start line startline math max current physical line currentphysicalline integer value of valueof page count pagecount range log log log debug calculate pages calculatepages page count pagecount range page count pagecount start line startline current physical line currentphysicalline line list linelist is empty isempty line list linelist size line height lineheight current physical line currentphysicalline returns number requested printed in range inrange page number pagenumber page ranges pageranges ranges page ranges pageranges attributes page ranges pageranges log log log debug in range inrange ranges ranges answer ranges answer answer ranges page number pagenumber log log log debug in range inrange page number pagenumber returning answer answer print graphics context page index pageindex based print page printpage graphics gfx page format pageformat page format pageformat page index pageindex actually paint actuallypaint log log log debug print page printpage page index pageindex actually paint actuallypaint graphics gfx graphics gfx zoom level zoomlevel page format pageformat print preview model printpreviewmodel print preview model printpreviewmodel model print preview model printpreviewmodel page format pageformat zoom level zoomlevel model get zoom level getzoomlevel font font derive font derivefont font get size getsize zoom level zoomlevel gfx set rendering hint setrenderinghint key text antialiasing view get text area gettextarea get painter getpainter get anti alias getantialias render hint renderhint use fractional font metrics usefractionalfontmetrics j edit jedit get boolean property getbooleanproperty view frac font metrics fracfontmetrics gfx set rendering hint setrenderinghint key fractionalmetrics use fractional font metrics usefractionalfontmetrics fractionalmetrics fractionalmetrics styles length syntax style syntaxstyle styles styles syntax style syntaxstyle get foreground color getforegroundcolor get background color getbackgroundcolor font gfx set font setfont font frc frc gfx get font render context getfontrendercontext printable dimensions page x pagex page format pageformat get imageable x getimageablex page y pagey page format pageformat get imageable y getimageabley page width pagewidth page format pageformat get imageable width getimageablewidth page height pageheight page format pageformat get imageable height getimageableheight print header header header height headerheight paint header paintheader gfx page x pagex page y pagey page width pagewidth actually paint actuallypaint page y pagey header height headerheight page height pageheight header height headerheight print footer footer footer height footerheight paint footer paintfooter gfx page x pagex page y pagey page width pagewidth page height pageheight page index pageindex actually paint actuallypaint page height pageheight footer height footerheight determine number width line number width linenumberwidth line numbers linenumbers string line number digits linenumberdigits string value of valueof buffer get line count getlinecount string builder stringbuilder digits string builder stringbuilder line number digits linenumberdigits length digits append line number width linenumberwidth font get string bounds getstringbounds digits to string tostring frc get width getwidth log log log debug dimensions page width pagewidth line number width linenumberwidth page height pageheight calculate tab size tab size tabsize j edit jedit get integer property getintegerproperty print tab size tabsize string builder stringbuilder tabs string builder stringbuilder tab size tabsize tabs append tab width tabwidth font get string bounds getstringbounds tabs to string tostring frc get width getwidth print tab expander printtabexpander tab expander tabexpander print tab expander printtabexpander tab width tabwidth prep printing lines font get line metrics getlinemetrics g gy yx ggyyx frc line height lineheight get height getheight log log log debug height line height lineheight range range page index pageindex log log log debug printing range page index pageindex range start printing line numbers printinglinenumbers range get start getstart printing line numbers printinglinenumbers range get end getend printing line numbers printinglinenumbers length print current physical line currentphysicalline start current physical line currentphysicalline current physical line currentphysicalline current physical line currentphysicalline buffer get line count getlinecount log log log debug j edit jedit get boolean property getbooleanproperty print folds view get text area gettextarea get display manager getdisplaymanager is line visible islinevisible current physical line currentphysicalline log log log debug skipping invisible fill list line list linelist clear token handler tokenhandler init styles frc tab expander tabexpander line list linelist page width pagewidth line number width linenumberwidth buffer mark tokens marktokens current physical line currentphysicalline token handler tokenhandler line numbers linenumbers actually paint actuallypaint gfx set font setfont font gfx set color setcolor line number color linenumbercolor line no lineno current physical line currentphysicalline printing line numbers printinglinenumbers current physical line currentphysicalline printing line numbers printinglinenumbers length line no lineno printing line numbers printinglinenumbers current physical line currentphysicalline gfx draw string drawstring string value of valueof line no lineno page x pagex page y pagey line height lineheight line list linelist is empty isempty handle blank line height lineheight chunk chunk line list linelist line height lineheight chunk chunks chunk chunks actually paint actuallypaint chunk paint chunk backgrounds paintchunkbackgrounds chunks gfx page x pagex line number width linenumberwidth page y pagey line height lineheight chunk paint chunk list paintchunklist chunks gfx page x pagex line number width linenumberwidth page y pagey current physical line currentphysicalline log log log debug finished paint header paintheader graphics gfx page x pagex page y pagey page width pagewidth actually paint actuallypaint string header text headertext j edit jedit get property getproperty print header text headertext string buffer get name getname font render context fontrendercontext frc gfx get font render context getfontrendercontext font get line metrics getlinemetrics header text headertext frc rectangle bounds font get string bounds getstringbounds header text headertext frc rectangle header bounds headerbounds rectangle page x pagex page y pagey page width pagewidth bounds get height getheight actually paint actuallypaint gfx set color setcolor header color headercolor gfx fill header bounds headerbounds gfx set color setcolor header text color headertextcolor gfx draw string drawstring header text headertext page x pagex page width pagewidth bounds get width getwidth page y pagey get ascent getascent header bounds headerbounds get height getheight paint footer paintfooter graphics gfx page x pagex page y pagey page width pagewidth page height pageheight page index pageindex actually paint actuallypaint string footer text footertext j edit jedit get property getproperty print footer text footertext object integer value of valueof page index pageindex font render context fontrendercontext frc gfx get font render context getfontrendercontext font get line metrics getlinemetrics footer text footertext frc rectangle bounds font get string bounds getstringbounds footer text footertext frc rectangle footer bounds footerbounds rectangle page x pagex page y pagey page height pageheight bounds get height getheight page width pagewidth bounds get height getheight actually paint actuallypaint gfx set color setcolor footer color footercolor gfx fill footer bounds footerbounds gfx set color setcolor footer text color footertextcolor gfx draw string drawstring footer text footertext page x pagex page width pagewidth bounds get width getwidth page y pagey page height pageheight bounds get height getheight get ascent getascent footer bounds footerbounds get height getheight print tab expander printtabexpander tab expander tabexpander tab width tabwidth print tab expander printtabexpander tab width tabwidth tab width tabwidth tab width tabwidth next tab stop nexttabstop tab offset taboffset ntabs tab width tabwidth ntabs tab width tabwidth