copyright apache software foundation rights reserved software published terms apache software license version copy included distribution license txt file installer java ioexception java input stream inputstream input stream decompresses bzip format file header chars read stream author href mailto keiron aftexsw keiron liddle cbzip input stream inputstream input stream inputstream bzip constants start block rand rand rand rand rand rand crc crc crc in use inuse seq to unseq seqtounseq unseq to seq unseqtoseq selector max selectors selector mtf selectormtf max selectors freq table collected save pass data decompression unzftab limit groups max alpha size base groups max alpha size perm groups max alpha size min lens minlens groups stream end streamend current char currentchar current state currentstate start block r nto go rntogo r tpos rtpos t pos tpos count ch prev chprev block randomised blockrandomised range current block size number block size blocksize bs buff bsbuff bs live bslive input stream inputstream input computed block crc computedblockcrc computed combined crc computedcombinedcrc block block size n in use ninuse zptr original string sorting orig ptr origptr stored block crc storedblockcrc stored combined crc storedcombinedcrc cbzip input stream inputstream input stream inputstream input bs set stream bssetstream input initialize init block initblock setup block setupblock bad block header badblockheader cadvise block overrun blockoverrun cadvise cadvise system println crc error ccoruption error ccoruptionerror compressed stream eof compressedstreameof cadvise crc error crcerror cadvise read stream end streamend ret char retchar current char currentchar current state currentstate start block rand rand setup rand part b setuprandpartb rand setup rand part c setuprandpartc rand rand setup no rand part b setupnorandpartb rand setup no rand part c setupnorandpartc ret char retchar set decompress structure sizes setdecompressstructuresizes new size newsize new size newsize new size newsize block size blocksize block size blocksize ioexception invalid block size block size blocksize new size newsize new size newsize base block size new size newsize setup block setupblock cftab cftab cftab unzftab cftab cftab cftab cftab cftab t pos tpos orig ptr origptr count eof block randomised blockrandomised r nto go rntogo r tpos rtpos setup rand part a setuprandparta setup no rand part a setupnorandparta setup no rand part a setupnorandparta ch prev chprev t pos tpos t pos tpos t pos tpos current char currentchar current state currentstate rand crc update crc updatecrc end block endblock init block initblock setup block setupblock setup no rand part b setupnorandpartb ch prev chprev current state currentstate rand count setup no rand part a setupnorandparta count count t pos tpos t pos tpos t pos tpos current state currentstate rand setup no rand part c setupnorandpartc current state currentstate rand setup no rand part a setupnorandparta setup no rand part c setupnorandpartc current char currentchar crc update crc updatecrc current state currentstate rand count setup no rand part a setupnorandparta setup rand part a setuprandparta ch prev chprev t pos tpos t pos tpos t pos tpos r nto go rntogo r nto go rntogo rand nums r tpos rtpos r tpos rtpos r tpos rtpos r tpos rtpos r nto go rntogo r nto go rntogo current char currentchar current state currentstate rand crc update crc updatecrc end block endblock init block initblock setup block setupblock setup rand part b setuprandpartb ch prev chprev current state currentstate rand count setup rand part a setuprandparta count count t pos tpos t pos tpos t pos tpos r nto go rntogo r nto go rntogo rand nums r tpos rtpos r tpos rtpos r tpos rtpos r tpos rtpos r nto go rntogo r nto go rntogo current state currentstate rand setup rand part c setuprandpartc current state currentstate rand setup rand part a setuprandparta setup rand part c setuprandpartc current char currentchar crc update crc updatecrc current state currentstate rand count setup rand part a setuprandparta get and move to front decode getandmovetofrontdecode next sym nextsym limit last limitlast base block size block size blocksize orig ptr origptr read variable sized int readvariablesizedint recv decoding tables recvdecodingtables eob n in use ninuse group no groupno group pos grouppos setting unzftab entries strictly save separate pass saves block worth cache misses unzftab zvec group no groupno group pos grouppos size selector group no groupno min lens minlens zvec bs r bsr zvec limit bs live bslive zzi zzi input read ioexception compressed stream eof compressedstreameof zzi compressed stream eof compressedstreameof bs buff bsbuff bs buff bsbuff zzi xff bs live bslive bs buff bsbuff bs live bslive bs live bslive zvec zvec next sym nextsym perm zvec base next sym nextsym eob next sym nextsym runa next sym nextsym runb next sym nextsym runa next sym nextsym runb group pos grouppos group no groupno group pos grouppos size group pos grouppos selector group no groupno min lens minlens zvec bs r bsr zvec limit bs live bslive zzi thech thech input read ioexception compressed stream eof compressedstreameof thech compressed stream eof compressedstreameof zzi thech bs buff bsbuff bs buff bsbuff zzi xff bs live bslive bs buff bsbuff bs live bslive bs live bslive zvec zvec next sym nextsym perm zvec base next sym nextsym runa next sym nextsym runb seq to unseq seqtounseq unzftab limit last limitlast block overrun blockoverrun tmp limit last limitlast block overrun blockoverrun tmp next sym nextsym unzftab seq to unseq seqtounseq tmp seq to unseq seqtounseq tmp loop hammered decompression unrolling next sym nextsym next sym nextsym tmp group pos grouppos group no groupno group pos grouppos size group pos grouppos selector group no groupno min lens minlens zvec bs r bsr zvec limit bs live bslive input read ioexception compressed stream eof compressedstreameof bs buff bsbuff bs buff bsbuff xff bs live bslive bs buff bsbuff bs live bslive bs live bslive zvec zvec next sym nextsym perm zvec base bs finished with stream bsfinishedwithstream input read variable sized int readvariablesizedint num bits numbits bs r bsr num bits numbits read unsigned char readunsignedchar bs r bsr read int readint bs r bsr bs r bsr bs r bsr bs r bsr bs r bsr bs live bslive input read ioexception ioe compressed stream eof compressedstreameof compressed stream eof compressedstreameof bs buff bsbuff bs buff bsbuff xff bs live bslive result bs buff bsbuff bs live bslive bs live bslive result bs set stream bssetstream input stream inputstream input input input bs live bslive bs buff bsbuff complete stored combined crc storedcombinedcrc read int readint stored combined crc storedcombinedcrc computed combined crc computedcombinedcrc crc error crcerror bs finished with stream bsfinishedwithstream stream end streamend end block endblock computed block crc computedblockcrc crc get final crc getfinalcrc bad crc considered fatal error stored block crc storedblockcrc computed block crc computedblockcrc crc error crcerror computed combined crc computedcombinedcrc computed combined crc computedcombinedcrc computed combined crc computedcombinedcrc computed combined crc computedcombinedcrc computed block crc computedblockcrc hb create decode tables hbcreatedecodetables limit base perm length min len minlen max len maxlen alpha size alphasize min len minlen max len maxlen alpha size alphasize length perm max code len base alpha size alphasize base length max code len base base max code len limit vec min len minlen max len maxlen vec base base limit vec vec min len minlen max len maxlen base limit base init block initblock magic read unsigned char readunsignedchar magic read unsigned char readunsignedchar magic read unsigned char readunsignedchar magic read unsigned char readunsignedchar magic read unsigned char readunsignedchar magic read unsigned char readunsignedchar magic magic magic magic magic magic complete magic magic magic magic magic magic bad block header badblockheader stream end streamend stored block crc storedblockcrc read int readint bs r bsr block randomised blockrandomised block randomised blockrandomised curr block no currblockno get and move to front decode getandmovetofrontdecode crc initialise crc initialisecrc current state currentstate start block initialize magic read unsigned char readunsignedchar magic read unsigned char readunsignedchar magic magic magic bs finished with stream bsfinishedwithstream stream end streamend set decompress structure sizes setdecompressstructuresizes magic computed combined crc computedcombinedcrc make maps makemaps n in use ninuse in use inuse seq to unseq seqtounseq n in use ninuse unseq to seq unseqtoseq n in use ninuse n in use ninuse recv decoding tables recvdecodingtables build in use table buildinusetable make maps makemaps alpha size alphasize n in use ninuse selectors group count groupcount bs r bsr selector count selectorcount bs r bsr selector count selectorcount bs r bsr selector mtf selectormtf undo mtf values selectors pos groups group count groupcount pos selector count selectorcount selector mtf selectormtf tmp pos pos pos pos tmp selector tmp len groups max alpha size coding tables group count groupcount curr bs r bsr alpha size alphasize bs r bsr bs r bsr curr curr len curr create huffman decoding tables group count groupcount min len minlen max len maxlen alpha size alphasize len max len maxlen max len maxlen len len min len minlen min len minlen len hb create decode tables hbcreatedecodetables limit base perm len min len minlen max len maxlen alpha size alphasize min lens minlens min len minlen build in use table buildinusetable in use inuse receive mapping table bs r bsr in use inuse in use inuse in use inuse in use inuse bs r bsr in use inuse