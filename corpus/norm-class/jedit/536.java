install java main installer originally written slava pestov j edit jedit installer project work domain work purpose software warranty kind implied warranty merchantability author software assumes responsibility consequence modification redistribution software installer javax swing plaf metal javax swing java java util properties java security java net url install detects wether installer running path exclamation marks reported failure linux windows bug installer doesn dir is running from exclam isrunningfromexclam install protection domain protectiondomain domaine get protection domain getprotectiondomain code source codesource source domaine get code source getcodesource url my source mysource source get location getlocation problem occurs directory my source mysource to string tostring error and exit errorandexit is gui isgui string message is gui isgui jtext area jtextarea message cnt messagecnt jtext area jtextarea message joption pane joptionpane show message dialog showmessagedialog message cnt messagecnt j edit jedit installer error joption pane joptionpane error message system err println message system exit main string args is gui isgui args length string java version javaversion system get property getproperty java version java version javaversion compare to compareto error and exit errorandexit is gui isgui running java version java version javaversion system get property getproperty java vendor installer requires java is running from exclam isrunningfromexclam error and exit errorandexit is gui isgui running installer directory exclamation marks n it nit failure installer http bugs sun bugdatabase view bug bug curious n please nplease move installer is gui isgui swing install swinginstall args length args equals text console install consoleinstall args length args equals auto non interactive install noninteractiveinstall args system err println usage system err println java jar installer jar system err println java jar installer jar text system err println java jar installer jar auto install dir unix script dir unix man dir system err println text parameter starts installer text mode system err println auto parameter starts installer interactive mode install props properties input stream inputstream get class getclass get resource as stream getresourceasstream installer install props props load close ioexception system err println error loading install props print stack trace printstacktrace buf string get property getproperty string props get property getproperty get integer property getintegerproperty string integer parse int parseint props get property getproperty exception copy input stream inputstream string outfile progress progress ioexception file out file outfile file outfile operating system operatingsystem get operating system getoperatingsystem mkdirs out file outfile get parent getparent buffered output stream bufferedoutputstream buffered output stream bufferedoutputstream file output stream fileoutputstream out file outfile count count read buf math min buf length count count write buf count progress progress advance count close close members properties props buf