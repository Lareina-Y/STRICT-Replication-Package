file bean shell beanshell java scripting distribution documentation updates http beanshell org sun license notice contents file subject sun license version license file compliance license copy license http sun original code bean shell beanshell initial developer original code pat niemeyer portions created pat niemeyer copyright rights reserved gnu license notice alternatively contents file terms gnu lesser general license lgpl provisions lgpl applicable version file terms lgpl version file spl decision deleting provisions replace notice provisions required lgpl delete provisions recipient version file spl lgpl patrick niemeyer pat pat net author learning java reilly associates http pat net pat org gjt jedit bsh java java lang reflect method java lang reflect invocation target exception invocationtargetexception bean shell beanshell script interpreter instance interpreter source scripts evaluate statements expressions examples blockquote pre interpeter bsh interpreter evaluate statements expressions bsh eval foo math sin bsh eval bar foo bar math cos bar bsh eval print java syntax apis bsh eval system println source files streams bsh source myscript bsh bsh eval source myscript bsh set pass objects variables bsh set bsh work bsh eval bsh eval year get year getyear integer year integer bsh year primitives wrappers java scripts implement arbitrary interfaces script awt event handler source file bsh eval action performed actionperformed print reference script object implementing action listener actionlistener scripted handler scriptedhandler action listener actionlistener bsh eval action listener actionlistener scripted event handler jbutton add action listener addactionlistener script pre blockquote examples single interpreter instance instances depending application structure scripts interpreter instances light weight create execute script repeatedly require maximum performance scripting code method invoking scripted method time interpreter instance eval bean shell beanshell user manual interpreter runnable console interface consoleinterface serializable members string version jedit debug utils reachable code doesn interpreter reference tracing utils debug trace turned interpreter basis parent reference determine scope command turns debug trace localscoping instance print stream printstream debug string system line separator systemlineseparator static init staticinit shared system object visible bsh system shared object sharedobject strict java mode set strict java setstrictjava strict java strictjava members instance data parser parser name space namespace global name space globalnamespace reader print stream printstream print stream printstream err console interface consoleinterface console interpeter child parent interpreter parent file source interpreter reading string source file info sourcefileinfo interactive mode system exit eof exit on eof exitoneof interpreter input stream eval eval only evalonly interpreter user print prompts interactive control verbose printing command show results showresults main constructor constructors pass param namespace namespace interpreter root namespace set created param parent parent interpreter interpreter child children share bsh class manager bshclassmanager parent instance param source file info sourcefileinfo informative string holding filename description source interpreter reading debugging interpreter reader print stream printstream print stream printstream err interactive name space namespace namespace interpreter parent string source file info sourcefileinfo system println interpreter sourcefile source file info sourcefileinfo parser parser system current time millis currenttimemillis err err interactive interactive debug err parent parent parent set strict java setstrictjava parent get strict java getstrictjava source file info sourcefileinfo source file info sourcefileinfo bsh class manager bshclassmanager bcm bsh class manager bshclassmanager create class manager createclassmanager namespace global name space globalnamespace name space namespace bcm global global name space globalnamespace namespace create root bsh system object doesn exist getu bsh org gjt jedit bsh init root system object initrootsystemobject interactive load rcfiles loadrcfiles system current time millis currenttimemillis interpreter debug interpreter debug time initialize interpreter interpreter reader print stream printstream print stream printstream err interactive name space namespace namespace err interactive namespace interpreter reader print stream printstream print stream printstream err interactive err interactive construct interactive interpreter attached console parent namespace interpreter console interface consoleinterface console name space namespace global name space globalnamespace console get in getin console get out getout console get err geterr global name space globalnamespace set console setconsole console construct interactive interpreter attached console interpreter console interface consoleinterface console console create interpreter evaluation interpreter string reader stringreader system system err eval only evalonly setu bsh eval only evalonly primitive constructors attach console note method incomplete set console setconsole console interface consoleinterface console console console setu bsh console console redundant constructor set out setout console get out getout set err seterr console get err geterr set input stream reinit parser init root system object initrootsystemobject bsh class manager bshclassmanager bcm get class manager getclassmanager bsh setu bsh name space namespace bcm bsh object get this getthis init shared shared object sharedobject shared object sharedobject shared object sharedobject name space namespace bcm bsh shared system object get this getthis bsh system setu bsh system shared object sharedobject alias setu bsh shared shared object sharedobject bsh help text helptext name space namespace bcm bsh command text get this getthis setu bsh help text helptext bsh cwd setu bsh cwd system get property getproperty user dir security exception securityexception setu bsh cwd bsh interactive setu bsh interactive primitive interactive bsh eval only evalonly setu bsh eval only evalonly primitive eval only evalonly set global namespace interpreter note completeness lot indication work caching interpreter instance namespace add overhead debug status stored interpreter features namespace accessed interpreter eval script variable namespace global namespace set name space setnamespace name space namespace global name space globalnamespace global name space globalnamespace global name space globalnamespace global namespace interpreter note completeness lot indication work caching interpreter instance namespace add overhead debug status stored interpreter features namespace accessed interpreter eval script variable namespace global namespace name space namespace get name space getnamespace global name space globalnamespace text interpreter command file main string args args length string filename args string bsh args bshargs args length bsh args bshargs string args length system arraycopy args bsh args bshargs args length bsh args bshargs string interpreter interpreter interpreter system println interpreter interpreter setu bsh args bsh args bshargs object result interpreter source filename interpreter global name space globalnamespace result invoke main invokemain result bsh args bshargs exception object invocation target exception invocationtargetexception invocation target exception invocationtargetexception get target exception gettargetexception system err println result main method threw exception file not found exception filenotfoundexception system println file target error targeterror system println script threw exception in native code innativecode print stack trace printstacktrace debug system err eval error evalerror system println evaluation error ioexception system println error workaround jdk bug system returns large bug fixed jdk input stream inputstream src system get property getproperty starts with startswith windows system get property getproperty java version starts with startswith src filter input stream filterinputstream system ioexception src system reader command line reader commandlinereader input stream reader inputstreamreader src interpreter interpreter interpreter system system err interpreter invoke main invokemain clas string args exception method main reflect resolve java method resolvejavamethod bsh class manager bshclassmanager clas main string only static onlystatic main main invoke object args interactively printing prompts eval only evalonly runtime exception runtimeexception bsh interpreter stream print banner eval string order exercise parser basic expression classes loaded ameliorates delay typing statement interactive eval print banner printbanner eval error evalerror println bean shell beanshell version pat niemeyer pat pat net init callstack call stack callstack callstack call stack callstack global name space globalnamespace eof eof sync console system flush system err flush helps thread yield interactive print get bsh prompt getbshprompt eof number child nodes jjtree node arity nodearity simple node simplenode node simple node simplenode jjtree root node rootnode debug node dump object ret node eval callstack sanity check development callstack depth interpreter error interpretererror callstack growing callstack ret return control returncontrol ret return control returncontrol ret ret primitive setu ret show results showresults println ret parse exception parseexception error parser error get message getmessage debug debug print stack trace printstacktrace interactive eof parser re init input reinitinput interpreter error interpretererror error internal error get message getmessage print stack trace printstacktrace interactive eof target error targeterror error uncaught exception in native code innativecode print stack trace printstacktrace debug err interactive eof setu get target gettarget eval error evalerror interactive error eval error evalerror to string tostring error eval error evalerror get message getmessage debug print stack trace printstacktrace interactive eof exception error unknown error debug print stack trace printstacktrace interactive eof token mgr error tokenmgrerror error error parsing input parser re init token input reinittokeninput interactive eof jjtree reset reinit callstack callstack depth callstack clear callstack push global name space globalnamespace interactive exit on eof exitoneof system exit source eval read text file name filename eval object source string filename name space namespace name space namespace file not found exception filenotfoundexception ioexception eval error evalerror file file path to file pathtofile filename interpreter debug debug sourcing file file reader source in sourcein buffered reader bufferedreader file reader filereader file eval source in sourcein name space namespace filename source in sourcein close read text file name filename eval convenience method global namespace object source string filename file not found exception filenotfoundexception ioexception eval error evalerror source filename global name space globalnamespace spawn interactive local interpreter evaluate text namespace evaluated object primitive wrapper param source file info sourcefileinfo purposes display error messages script eval error evalerror script problems target error targeterror unhandled exceptions script note form eval passes callstack combined stuff interactive interactive compare side side differently exception handling object eval reader name space namespace name space namespace string source file info sourcefileinfo call stack callstack callstack eval error evalerror object ret val retval interpreter debug debug eval name space namespace name space namespace create interactive local interpreter namespace source input stream err interpreter interpreter local interpreter localinterpreter interpreter err name space namespace source file info sourcefileinfo call stack callstack callstack call stack callstack name space namespace eof eof simple node simplenode node eof local interpreter localinterpreter local interpreter localinterpreter jjtree node arity nodearity node simple node simplenode local interpreter localinterpreter jjtree root node rootnode nodes remember sourced node set source file setsourcefile source file info sourcefileinfo trace println node get text gettext ret val retval node eval callstack local interpreter localinterpreter sanity check development callstack depth interpreter error interpretererror callstack growing callstack ret val retval return control returncontrol ret val retval return control returncontrol ret val retval interactive control local interpreter localinterpreter show results showresults ret val retval primitive println ret val retval parse exception parseexception debug error get message getmessage debug set error source file seterrorsourcefile source file info sourcefileinfo interpreter error interpretererror print stack trace printstacktrace eval error evalerror sourced file source file info sourcefileinfo internal error get message getmessage node callstack target error targeterror get node getnode set node setnode node re throw rethrow sourced file source file info sourcefileinfo eval error evalerror debug print stack trace printstacktrace get node getnode set node setnode node re throw rethrow sourced file source file info sourcefileinfo exception debug print stack trace printstacktrace eval error evalerror sourced file source file info sourcefileinfo unknown error get message getmessage node callstack token mgr error tokenmgrerror eval error evalerror sourced file source file info sourcefileinfo token parsing error get message getmessage node callstack local interpreter localinterpreter jjtree reset reinit callstack callstack depth callstack clear callstack push name space namespace primitive unwrap ret val retval evaluate inputstream interpreter global namespace object eval reader eval error evalerror eval global name space globalnamespace eval stream evaluate string interpreter global namespace object eval string statements eval error evalerror interpreter debug debug eval string statements eval statements global name space globalnamespace evaluate string namespace object eval string statements name space namespace name space namespace eval error evalerror string statements ends with endswith statements statements eval string reader stringreader name space namespace inline evaluation show eval string showevalstring string show eval string showevalstring string replace replace length substring source eval print error message standard format output stream interpreter gui console red error object console console error error err println error err flush console interface consoleinterface interpreter reflexively console clean implement console input stream interpreter stdin gui console reader get in getin outptut stream interpreter stdout gui console print stream printstream get out getout error output stream interpreter stderr gui console print stream printstream get err geterr err println object print string value of valueof system line separator systemlineseparator print object console console print print flush console interface consoleinterface print debug message debug stream interpreter debugging turned debug string debug debug println debug primary interpreter set variable methods note squeltching errors variable field object string eval error evalerror object ret global name space globalnamespace primitive unwrap ret util eval error utilevalerror to eval error toevalerror simple node simplenode javacode call stack callstack unchecked internal object getu string eval error evalerror interpreter error interpretererror set assign evaluate assignable variable field set string object eval error evalerror map primtive coming primitive call stack callstack callstack call stack callstack is compound iscompound lhs lhs global name space globalnamespace get name resolver getnameresolver to lhs tolhs callstack lhs assign optimization common global name space globalnamespace set variable setvariable util eval error utilevalerror to eval error toevalerror simple node simplenode javacode callstack unchecked set internal setu string object set eval error evalerror interpreter error interpretererror set set string eval error evalerror set primitive set string eval error evalerror set primitive set string eval error evalerror set primitive set string eval error evalerror set primitive set string eval error evalerror set primitive unassign variable evaluate variable unset string eval error evalerror jump hoops handle arbitrary cases unset bsh foo call stack callstack callstack call stack callstack lhs lhs global name space globalnamespace get name resolver getnameresolver to lhs tolhs callstack lhs type lhs variable eval error evalerror unset variable simple node simplenode javacode call stack callstack lhs assign lhs name space namespace unset variable unsetvariable util eval error utilevalerror eval error evalerror get message getmessage simple node simplenode javacode call stack callstack primary set methods reference interpreter global namespace type assuming methods defined interpreter java java object pre interpreter interpreter interpreter define method called interpreter eval fetch reference interpreter runnable runnable runnable runnable interpreter get interface getinterface runnable pre note interpreter require methods defined time generated attempt invoke defined runtime exception note convenience method evaluating script pre type pre identical previous pre fetch reference interpreter runnable runnable runnable runnable interpreter eval runnable pre version requirement standard java types arbitrary interfaces feature requires java greater eval error evalerror generated version java support proxy mechanism object get interface getinterface interf eval error evalerror global name space globalnamespace get this getthis get interface getinterface interf util eval error utilevalerror to eval error toevalerror simple node simplenode javacode call stack callstack methods interacting parser jjtparser state jjtparserstate jjtree parser jjtree java char stream javacharstream input stream parser input stream parse exception parseexception parser methods interacting parser load rcfiles loadrcfiles string rcfile windows win unix system get property getproperty user file separator bshrc source rcfile global name space globalnamespace exception interpreter debug debug find file localize path file based bsh cwd interpreter working directory file path to file pathtofile string file name filename ioexception file file file file name filename relative bsh cwd file is absolute isabsolute string cwd string getu bsh cwd file file cwd file separator file name filename get absolute path getabsolutepath file file get canonical path getcanonicalpath redirect output to file redirectoutputtofile string filename print stream printstream pout print stream printstream file output stream fileoutputstream filename system set out setout pout system set err seterr pout ioexception system err println redirect output file filename set external loader base classloader bean shell beanshell base classloader classloading add classpath addclasspath set classpath setclasspath reload classes reloadclasses commands called modify interpreter classpath time paths updated paths top base classloader bean shell beanshell point plain for name forname explicit classpath management script add class path addclasspath set class path setclasspath reload classes reloadclasses bean shell beanshell supplied classloader additional classpath management bean shell beanshell perform addition supplied external classloader bean shell beanshell reload classes supplied external classloader bsh class manager bshclassmanager set class loader setclassloader class loader classloader set class loader setclassloader class loader classloader external cl externalcl get class manager getclassmanager set class loader setclassloader external cl externalcl manager interpreter bsh class manager bshclassmanager interpreter global namespace convenience method bsh class manager bshclassmanager get class manager getclassmanager get name space getnamespace get class manager getclassmanager set strict java mode mode attempts bean shell beanshell syntax behave java syntax eliminating conveniences loose variables enabled variables required declared initialized method arguments reqired types mode strict release classes interpreted alternative scripting objects method closures set strict java setstrictjava strict java strictjava set strict java setstrictjava get strict java getstrictjava strict java strictjava static init staticinit environments security exception applet work system line separator systemlineseparator system get property getproperty separator debug system err debug get boolean getboolean debug trace get boolean getboolean trace localscoping get boolean getboolean localscoping string outfilename system get property getproperty outfile outfilename redirect output to file redirectoutputtofile outfilename security exception securityexception system err println init exception system err println init throwable system err println init source text interpreter reading note difference file interrpeter sourcing file method originally parsed file call method sourced file simple node simplenode origination file info org gjt jedit bsh simple node simplenode get source file getsourcefile string get source file info getsourcefileinfo source file info sourcefileinfo source file info sourcefileinfo unknown source parent interpreter interpreter relationship implies parent child share bsh class manager bshclassmanager children parent source file error reporting created source eval child shares parent namespace general interpreter get parent getparent parent set out setout print stream printstream set err seterr print stream printstream err err err serialization setup err streams stdout stderr read object readobject object input stream objectinputstream stream java ioexception class not found exception classnotfoundexception stream default read object defaultreadobject set fields console set out setout console get out getout set err seterr console get err geterr set out setout system set err seterr system err prompt string defined get bsh prompt getbshprompt method global namespace get bsh prompt getbshprompt command defined user method defaults bsh method defined error string get bsh prompt getbshprompt string eval get bsh prompt getbshprompt exception bsh interactive mode interpreter exits java input interactive mode interpreter issue system exit eof interpreter system exit note eof externally closing input stream guaranteed work older versions java java limitations work newer jdk jres motivation java nio set exit on eof setexitoneof exit on eof exitoneof turn verbose printing command interpreter parent call delegated bean shell beanshell command set show results setshowresults show results showresults show results showresults show results showresults verbose printing status command bean shell beanshell command interpreter parent call delegated get show results getshowresults show results showresults