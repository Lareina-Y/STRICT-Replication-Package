edit server editserver java j edit jedit server tab size tabsize indent size indentsize no tabs notabs folding explicit collapse folds collapsefolds copyright slava pestov program free software redistribute modify terms gnu general license published free software foundation version license version program distributed hope warranty implied warranty merchantability fitness purpose gnu general license details received copy gnu general license program write free software foundation temple place suite boston usa org gjt jedit imports org gjt jedit bsh name space namespace javax swing java awt java awt event java java net java util random org gjt jedit file vfs filevfs org gjt util log inter process communication edit server protocol simple code j edit settings dir jeditsettingsdir server code ascii file lines port number authorization key connect port local machine sending authorization key bytes network order length bean shell beanshell script bytes network order script utf encoding socked closed bean shell beanshell script executed j edit jedit snippet executed awt thread usual bean shell beanshell variables view buffer text area textarea edit pane editpane set script figure cases script call link handle client handleclient string string method complicated stuff author slava pestov version edit server editserver thread edit server editserver constructor edit server editserver string port file portfile j edit jedit server daemon port file portfile set daemon setdaemon port file portfile port file portfile nasty operating system operatingsystem is unix isunix file port file portfile create new file createnewfile file vfs filevfs set permissions setpermissions port file portfile bind port localhost accept simultaneous connection attempts rejecting connections socket server socket serversocket inet address inetaddress get by name getbyname auth key authkey random next int nextint integer max port socket get local port getlocalport file writer filewriter file writer filewriter port file portfile write write string value of valueof port write write string value of valueof auth key authkey write close log log log debug j edit jedit server started port socket get local port getlocalport log log log debug authorization key auth key authkey ioexception log log log notice method abort socket client client socket accept script kiddies opening edit server port leaving open do s dos client set so timeout setsotimeout log log log message client connected data input stream datainputstream data input stream datainputstream client get input stream getinputstream handle client handleclient client abort exception abort log log log error abort handle client handleclient method param restore views open param parent client parent directory param args list files entries convinience j edit jedit pre handle client handleclient restore string parent string args handle client handleclient restore parent args handle client handleclient method param restore views open param new view newview open view param new plain view newplainview open plain view param parent client parent directory param args list files entries convenience buffer j edit jedit pre buffer handle client handleclient restore new view newview new plain view newplainview string parent string args deal huge range border cases j edit jedit get first view getfirstview coming background mode views open buffers open args empty has buffer args hasbufferargs string arg args arg has buffer args hasbufferargs restore files restorefiles restore j edit jedit get boolean property getbooleanproperty restore has buffer args hasbufferargs j edit jedit get boolean property getbooleanproperty restore cli view view perspective manager perspectivemanager load perspective loadperspective restore files restorefiles buffer buffer j edit jedit open files openfiles view parent args view buffer buffer j edit jedit get first buffer getfirstbuffer j edit jedit new view newview buffer buffer view set buffer setbuffer buffer buffer new plain view newplainview background mode opening view buffer buffer j edit jedit open files openfiles parent args buffer buffer j edit jedit get first buffer getfirstbuffer j edit jedit new view newview buffer buffer new view newview background mode opening view buffer buffer j edit jedit open files openfiles parent args buffer buffer j edit jedit get first buffer getfirstbuffer j edit jedit new view newview j edit jedit get active view getactiveview buffer buffer background mode reusing existing view view view j edit jedit get active view getactiveview buffer buffer j edit jedit open files openfiles view parent args oses j edit jedit get boolean property getbooleanproperty server broken to front brokentofront view set state setstate java awt frame iconified iconify jdk api view set state setstate java awt frame normal view request focus requestfocus view to front tofront platforms windows set always on top setalwaysontop works view is always on top isalwaysontop view set always on top setalwaysontop view set always on top setalwaysontop buffer is ok isok method is ok isok get port getport method get port getport socket get local port getlocalport stop server stopserver method stop server stopserver abort socket close ioexception file port file portfile delete members instance variables string port file portfile server socket serversocket socket auth key authkey abort handle client handleclient method handle client handleclient socket client data input stream datainputstream exception key read int readint key auth key authkey log log log error client wrong authorization key key expected auth key authkey close client close reset timeout client set so timeout setsotimeout log log log debug client authenticated string script read utf readutf log log log debug script swing utilities swingutilities invoke later invokelater runnable name space namespace name space namespace bean shell beanshell get name space getnamespace edit server editserver namespace set variable setvariable socket client bean shell beanshell eval script org gjt jedit bsh util eval error utilevalerror log log log error bean shell beanshell get name space getnamespace set variable setvariable socket org gjt jedit bsh util eval error utilevalerror log log log error