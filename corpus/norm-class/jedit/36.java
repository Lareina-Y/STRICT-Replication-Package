masters disaster ant tasks java buffered output stream bufferedoutputstream java file java file input stream fileinputstream java file output stream fileoutputstream java ioexception java util enumeration java util vector org apache tools ant build exception buildexception org apache tools ant directory scanner directoryscanner org apache tools ant project org apache tools ant taskdefs matching task matchingtask org apache tools ant types enumerated attribute enumeratedattribute org apache tools ant types file set fileset org apache tools ant util file utils fileutils org apache tools ant util merging mapper mergingmapper org apache tools ant util source file scanner sourcefilescanner org apache tools zip unix stat unixstat creates archive ant task category packaging matching task matchingtask file dest file destfile file base dir basedir ar long file mode arlongfilemode long file mode longfilemode ar long file mode arlongfilemode vector filesets vector user warned files long warning given longwarninggiven add fileset option permissions fileset nested element ar file set arfileset create ar file set createarfileset ar file set arfileset fileset ar file set arfileset filesets add element addelement fileset fileset set location create file param dest file destfile output tar set dest file setdestfile file dest file destfile dest file destfile dest file destfile base directory param base dir basedir base directory set basedir setbasedir file base dir basedir base dir basedir base dir basedir set handle files chars spaces optional warn allowable values truncate names truncated maximum length spaces replaced fail names greater maximum build exception warn names greater maximum warning truncate bsd bsd variant names greater maximum gnu gnu variant names greater maximum omit files greater maximum archive param mode mode handle file names set longfile setlongfile ar long file mode arlongfilemode mode long file mode longfilemode mode business build exception buildexception error execute build exception buildexception dest file destfile build exception buildexception dest file destfile attribute set get location getlocation dest file destfile exists dest file destfile is directory isdirectory build exception buildexception dest file destfile directory get location getlocation dest file destfile exists dest file destfile can write canwrite build exception buildexception write dest file destfile get location getlocation vector saved file sets savedfilesets vector filesets clone base dir basedir base dir basedir exists build exception buildexception basedir exist get location getlocation add main fileset list filesets process ar file set arfileset main file set mainfileset ar file set arfileset fileset main file set mainfileset set dir setdir base dir basedir filesets add element addelement main file set mainfileset filesets size build exception buildexception supply basedir attribute nested filesets get location getlocation check respect fileset up to date uptodate enumeration filesets elements has more elements hasmoreelements ar file set arfileset ar file set arfileset next element nextelement string files get files getfiles get project getproject archive is up to date archiveisuptodate files get dir getdir get project getproject up to date uptodate files length dest file destfile equals file get dir getdir get project getproject files build exception buildexception file include get location getlocation up to date uptodate log dest file destfile get absolute path getabsolutepath project msg info log building dest file destfile get absolute path getabsolutepath project msg info ar output stream aroutputstream a out aout a out aout ar output stream aroutputstream buffered output stream bufferedoutputstream file output stream fileoutputstream dest file destfile long file mode longfilemode is truncate mode istruncatemode long file mode longfilemode is warn mode iswarnmode a out aout set long file mode setlongfilemode ar output stream aroutputstream longfile truncate long file mode longfilemode is fail mode isfailmode long file mode longfilemode is omit mode isomitmode a out aout set long file mode setlongfilemode ar output stream aroutputstream longfile error long file mode longfilemode is bsd mode isbsdmode a out aout set long file mode setlongfilemode ar output stream aroutputstream longfile bsd gnu a out aout set long file mode setlongfilemode ar output stream aroutputstream longfile gnu long warning given longwarninggiven enumeration filesets elements has more elements hasmoreelements ar file set arfileset ar file set arfileset next element nextelement string files get files getfiles get project getproject files length get fullpath getfullpath length build exception buildexception fullpath attribute filesets single file files length file file get dir getdir get project getproject files ar file arfile a out aout ioexception ioe string msg problem creating ioe get message getmessage build exception buildexception msg ioe get location getlocation file utils fileutils close a out aout filesets saved file sets savedfilesets file param file file param a out aout output stream param ar file set arfileset fileset file ioexception error ar file arfile file file ar output stream aroutputstream a out aout ar file set arfileset ar file set arfileset ioexception file input stream fileinputstream f in fin file is directory isdirectory string file name filename file get name getname string fullpath ar file set arfileset get fullpath getfullpath fullpath length file name filename fullpath substring fullpath last index of lastindexof don add archive file name filename length file name filename length ar constants arconstants namelen file name filename index of indexof long file mode longfilemode is omit mode isomitmode log omitting file name filename project msg info long file mode longfilemode is warn mode iswarnmode long warning given longwarninggiven log file truncated space converted filenames project msg warn long warning given longwarninggiven log entry file name filename longer ar constants arconstants namelen characters spaces project msg warn long file mode longfilemode is fail mode isfailmode build exception buildexception entry file name filename longer ar constants arconstants namelen characters containting spaces get location getlocation ar entry arentry ar entry arentry file name filename set file date setfiledate file last modified lastmodified set user id setuserid ar file set arfileset get uid getuid set group id setgroupid ar file set arfileset get gid getgid set mode setmode ar file set arfileset get mode getmode set size setsize file length a out aout put next entry putnextentry f in fin file input stream fileinputstream file buffer count a out aout write buffer count count f in fin read buffer buffer length count a out aout close entry closeentry f in fin f in fin close archive relationship list files param files files check param dir base directory files archive archive is up to date archiveisuptodate string files file dir source file scanner sourcefilescanner sfs source file scanner sourcefilescanner merging mapper mergingmapper merging mapper mergingmapper set to setto dest file destfile get absolute path getabsolutepath sfs restrict files dir length file set fileset option permissions attributes ar file set arfileset file set fileset string files file mode filemode unix stat unixstat file flag unix stat unixstat file perm uid gid string fullpath creates code ar file set arfileset code instance fileset constructor argument param fileset code file set fileset code ar file set arfileset file set fileset fileset fileset creates code ar file set arfileset code instance ar file set arfileset list files directories fileset param current project list file directory names relative base dir basedir project string get files getfiles project files directory scanner directoryscanner get directory scanner getdirectoryscanner files get included files getincludedfiles files digit octal string user group modes standard unix fashion optional param octal string octalstring digit octal string set mode setmode string octal string octalstring file mode filemode unix stat unixstat file flag integer parse int parseint octal string octalstring current mode get mode getmode file mode filemode uid entry optional param uid user entry set uid setuid uid uid uid uid entry get uid getuid uid gid entry optional param gid group set gid setgid gid gid gid group identifier get gid getgid gid fullpath attribute set file fileset written path archive fullpath ends file archive error file fileset param fullpath path file fileset set fullpath setfullpath string fullpath fullpath fullpath path single file fileset string get fullpath getfullpath fullpath set options file handling task ar long file mode arlongfilemode enumerated attribute enumeratedattribute permissible values longfile attribute string warn warn fail fail truncate truncate gnu gnu bsd bsd omit omit string valid modes validmodes warn fail truncate gnu bsd omit constructor defaults warn ar long file mode arlongfilemode set value setvalue warn values enumerated type string get values getvalues valid modes validmodes truncate is truncate mode istruncatemode truncate equals ignore case equalsignorecase get value getvalue warn is warn mode iswarnmode warn equals ignore case equalsignorecase get value getvalue gnu is gnu mode isgnumode gnu equals ignore case equalsignorecase get value getvalue bsd is bsd mode isbsdmode bsd equals ignore case equalsignorecase get value getvalue fail is fail mode isfailmode fail equals ignore case equalsignorecase get value getvalue omit is omit mode isomitmode omit equals ignore case equalsignorecase get value getvalue