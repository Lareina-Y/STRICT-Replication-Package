readn cbuf len IOException read chars requested input character buf Len bufLen len buf buf Len bufLen delegate read ISO read read buf EOF reached read read read read underlying stream result read conversion result additional characters read collapsed escape sequences needed iterate read chars maximum len read len character consideration buf start escape sequence escaped escaped cbuf result read read read read buf read read read permissive read buf escaped cbuf result Malformed Input Exception MalformedInputException read read buf escaped cbuf result buf permissive escaped cbuf result Malformed Input Exception MalformedInputException escaped cbuf result Integer parse Int parseInt String buf needed Math min len unread buf read needed result read readn cbuf result needed read result result read