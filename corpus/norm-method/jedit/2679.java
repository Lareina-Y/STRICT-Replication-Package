undo method Returns selection active performing operation selection active length selection returned pointing caret location set operation Implementation note undo manager receive actual selection records operations operations recorded code Buffer code selections code Text Area TextArea code instances code Selection code returned simply guessed inserted text Selection undo Undo Manager UndoManager mgr