String compress String path String original path previous contains Key containsKey path previous path String best Prefix bestPrefix String verified Prefix verifiedPrefix best Prefix bestPrefix String try Prefix tryPrefix prefix Map prefixMap key Set keySet try Prefix tryPrefix length best Prefix bestPrefix length Operating System OperatingSystem is Windows isWindows path to Lower Case toLowerCase starts With startsWith try Prefix tryPrefix best Prefix bestPrefix try Prefix tryPrefix path starts With startsWith try Prefix tryPrefix best Prefix bestPrefix try Prefix tryPrefix best Prefix bestPrefix equals verified Prefix verifiedPrefix String remainder original substring best Prefix bestPrefix length remainder length remainder starts With startsWith File separator verified Prefix verifiedPrefix best Prefix bestPrefix best Prefix bestPrefix verified Prefix verifiedPrefix best Prefix bestPrefix length String remainder original substring best Prefix bestPrefix length String envvar prefix Map prefixMap best Prefix bestPrefix envvar equals path envvar remainder Operating System OperatingSystem is Windows isWindows path envvar to Upper Case toUpperCase remainder path envvar remainder previous original path path