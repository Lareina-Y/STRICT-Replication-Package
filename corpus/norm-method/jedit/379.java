main Sort mainSort running Order runningOrder copy big Done bigDone verbosity fprintf stderr sort initialise NUM OVERSHOOT BYTES block block NUM OVERSHOOT BYTES quadrant block block simple Sort simpleSort full sorting mechanism large constant overhead zptr first Attempt firstAttempt work Done workDone work Limit workLimit simple Sort simpleSort big Done bigDone ftab block block ftab ftab ftab block block ftab zptr ftab block block ftab zptr ftab ftab loc small bucket Calculate running order smallest largest big bucket running Order runningOrder running Order runningOrder ftab running Order runningOrder ftab running Order runningOrder ftab ftab running Order runningOrder running Order runningOrder running Order runningOrder main sorting loop Process big buckets starting full running Order runningOrder Complete big bucket quicksorting unsorted small buckets previous pointer scanning phases completed small buckets don sort ftab SETMASK SETMASK ftab CLEARMASK ftab CLEARMASK q Sort qSort work Done workDone work Limit workLimit first Attempt firstAttempt ftab SETMASK big bucket Record fact update quadrant descriptors Remember update quadrants overshoot area test skips updating bucket processed updating bucket pointless big Done bigDone bb Start bbStart ftab CLEARMASK bb Size bbSize ftab CLEARMASK bb Start bbStart shifts bb Size bbSize shifts shifts bb Size bbSize update zptr bb Start bbStart q Val qVal shifts quadrant update q Val qVal update NUM OVERSHOOT BYTES quadrant update q Val qVal bb Size bbSize shifts panic scan big bucket synthesise sorted order small buckets copy ftab CLEARMASK ftab CLEARMASK ftab CLEARMASK block zptr big Done bigDone zptr copy zptr zptr copy ftab SETMASK