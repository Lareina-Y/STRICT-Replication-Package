Generate delegate method instance generated code packs method arguments object array wrapping primitive types bsh Primitive invokes instance namespace invoke Method invokeMethod method unwraps returns result generate Method generateMethod String class Name className String fq Class Name fqClassName String method Name methodName String return Type returnType String param Types paramTypes modifiers Class Writer ClassWriter String exceptions is Static isStatic modifiers ACC map loose type Object return Type returnType return Type returnType OBJECT String method Descriptor methodDescriptor get Method Descriptor getMethodDescriptor return Type returnType param Types paramTypes Generate method body Code Visitor CodeVisitor visit Method visitMethod modifiers method Name methodName method Descriptor methodDescriptor exceptions modifiers ACC Generate code push BSHTHIS BSHSTATIC field is Static isStatic visit Field Insn visitFieldInsn GETSTATIC fq Class Name fqClassName BSHSTATIC class Name className Lorg gjt jedit bsh Push visit Var Insn visitVarInsn ALOAD instance field visit Field Insn visitFieldInsn GETFIELD fq Class Name fqClassName BSHTHIS class Name className Lorg gjt jedit bsh Push method constant visit Ldc Insn visitLdcInsn method Name methodName Generate code push arguments object array generate Parameter Reifier Code generateParameterReifierCode param Types paramTypes is Static isStatic Push nulls args invoke Method invokeMethod interpreter visit Insn visitInsn ACONST callstack visit Insn visitInsn ACONST callerinfo visit Insn visitInsn ACONST Push constant declared Only declaredOnly visit Insn visitInsn ICONST Invoke method invoke Method invokeMethod sig visit Method Insn visitMethodInsn INVOKEVIRTUAL org gjt jedit bsh invoke Method invokeMethod Type get Method Descriptor getMethodDescriptor Type get Type getType Object Type Type get Type getType String Type get Type getType Object Type get Type getType Interpreter Type get Type getType Call Stack CallStack Type get Type getType Simple Node SimpleNode Type get Type getType TYPE Generate code unwrap bsh Primitive types visit Method Insn visitMethodInsn INVOKESTATIC org gjt jedit bsh Primitive unwrap Ljava lang Object Ljava lang Object Generate code generate Return Code generateReturnCode return Type returnType calculate fudging visit Maxs visitMaxs