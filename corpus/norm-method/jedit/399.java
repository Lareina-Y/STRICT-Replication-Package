copy Input Stream InputStream String outfile Progress progress IOException File out File outFile File outfile Operating System OperatingSystem get Operating System getOperatingSystem mkdirs out File outFile get Parent getParent Buffered Output Stream BufferedOutputStream Buffered Output Stream BufferedOutputStream File Output Stream FileOutputStream out File outFile count count read buf Math min buf length count count write buf count progress progress advance count close close