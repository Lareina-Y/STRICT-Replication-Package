handle Token handleToken Segment seg offset length Token Marker TokenMarker Line Context LineContext context length search Pos searchPos search Pos searchPos offset search Pos searchPos offset length search Pos searchPos length search Pos searchPos offset Token is Comment Or Literal isCommentOrLiteral offset offset length seg array seg offset open Char openChar open is Empty isEmpty close is Empty isEmpty close pop open push seg array seg offset close Char closeChar close is Empty isEmpty open is Empty isEmpty open pop close push