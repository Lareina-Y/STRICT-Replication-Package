set Expansion setExpansion String expansion expansion before Caret beforeCaret set Text setText after Caret afterCaret set Text setText String before Caret Text beforeCaretText String after Caret Text afterCaretText String Builder StringBuilder buf String Builder StringBuilder expansion length expansion char At charAt expansion length expansion char At charAt buf append buf append before Caret Text beforeCaretText buf to String toString buf set Length setLength buf append buf append before Caret Text beforeCaretText before Caret Text beforeCaretText buf to String toString after Caret Text afterCaretText buf to String toString before Caret beforeCaret set Text setText before Caret Text beforeCaretText after Caret afterCaret set Text setText after Caret Text afterCaretText