59	lang DateUtils truncate method buggy dealing DST switching hours truncate MDT hour MST hour input hour truncate MDT oct MDT result DateUtils truncate oct MDT Calendar HOUR DAY assertEquals oct MDT result
259	ValuedEnum compareTo Object typesafe easily int org apache commons lang enums ValuedEnum compareTo Object typesafe int values return totally classes ValuedEnum
281	DurationFormatUtils returns wrong result DurationFormatUtils returns wrong result oddly set Dec code result String tested Calendar cal Calendar getInstance cal set Calendar MONTH Calendar DECEMBER cal set Calendar DAY MONTH cal set Calendar YEAR cal set Calendar HOUR DAY cal set Calendar MINUTE cal set Calendar cal set Calendar MILLISECOND String result DurationFormatUtils formatPeriod cal getTimeInMillis System currentTimeMillis System println result
292	unescapeXml test EntitiesTest java fails public void testNumberOverflow throws Exception doTestUnescapeEntity doTestUnescapeEntity doTestUnescapeEntity doTestUnescapeEntity Maximim char xFFFF invalid entity reference left
295	StrBuilder usages thisBuf length size fixing LANG noticed places StrBuilder reference thisBuf length mistaken shouldn
299	Bug method appendFixedWidthPadRight class StrBuilder ArrayIndexOutOfBoundsException bug method appendFixedWidthPadRight class StrBuilder public StrBuilder appendFixedWidthPadRight Object obj int width char padChar width ensureCapacity size width String str obj null getNullText obj toString int strLen str length strLen width str getChars strLen buffer size BUG str getChars width buffer size int padLen width strLen str getChars strLen buffer size int padLen buffer size strLen padChar size width return causing ArrayIndexOutOfBoundsException method unusable strLen width counterpart method appendFixedWidthPadLeft
300	NumberUtils createNumber throws NumberFormatException digit long NumberUtils createNumber throws NumberFormatException parsing works fine parse condition isDigits numeric substring return false numeric substring empty string
304	NullPointerException isAvailableLocale Locale FindBugs pointed UwF Field initialized constructor org apache commons lang LocaleUtils cAvailableLocaleSet cAvailableSet source availableLocaleSet hasn called NullPointerException
315	StopWatch suspend acts split opinion bug suspend acts split StopWatch StopWatch start Thread sleep suspend Time System println getTime Thread sleep Time System println getTime resume Thread sleep suspend Time System println getTime Thread sleep Time System println getTime Thread sleep Time Time System println getTime suspend resume pause time counter doesn continue call shouldn increase time counter
328	LocaleUtils toLocale rejects strings language variant LocaleUtils toLocale throws exception strings language variant country code POSIX string produced JDK instanciating Locale empty string country Locale POSIX toString javadoc Locale class variant allowed language code country code Commons Configuration handles case PropertyConverter toLocale method replace implementation LocaleUtils tests fail case
346	Dates behaves incorrectly minutes seconds unexpected output rounding minutes seconds public void testRound Calendar testCalendar Calendar getInstance TimeZone getTimeZone GMT testCalendar set testCalendar getTime System println System println DateUtils Calendar MINUTE produces Mon Jul CDT Mon Jul CDT expect produces Mon Jul CDT Mon Jul CDT appears wrong
363	StringEscapeUtils escapeJavaScript method escape render uncorrectly Javascripts including parse scripts uncorrectly escaped document getElementById test script alert aaa script expression render uncorrect document getElementById test script alert aaa script Btw Spring JavascriptEscape behavor correct codes find difference String script alert aaa script String str org springframework web util JavaScriptUtils javaScriptEscape System println Spring Escape str str org apache commons lang StringEscapeUtils escapeJavaScript System println Apache Common Lang Escape str
365	BooleanUtils toBoolean invalid drop case statement StringIndexOutOfBoundsException method BooleanUtils toBoolean case statement case drops case StringIndexOutOfBoundsException test assertEquals false BooleanUtils toBoolean tru case return false Patch follow source unit test
368	FastDateFormat getDateInstance getDateTimeInstance assume Locale getDefault won change FastDateFormat getDateInstance getDateTimeInstance methods create HashMap key items including locale locale null key stored object created current default locale Locale changed subsequently wrong locale applied Patch test case follow
380	infinite loop Fraction reduce numerator Summary pretty
393	EqualsBuilder don compare BigDecimals correctly comparing BigDecimal comparing equals compareTo case BigDecimal
412	StrBuilder appendFixedWidth handle nulls Appending null fixed width null pointer exception getNullText set
419	WordUtils abbreviate bug greater str length WordUtils abbreviate upper adjusted length string adjusted length string greater str lengt upper str substring upper throw StringIndexOutOfBoundsException adjust length string
432	case insensitive string handling String Case locale sensitive intended case insensitive comparisions Common Bug http nabble Common Bugs html details
457	NumberUtils createNumber thows StringIndexOutOfBoundsException passed LANG don place digit front throws StringIndexOutOfBoundsException
477	ExtendedMessageFormat OutOfMemory custom format registry pattern single quotes ExtendedMessageFormat custom format registry pattern conatining single quotes OutOfMemoryError occur error code title ExtendedMessageFormatTest java borderStyle solid private static Map String Object formatRegistry HashMap String Object static formatRegistry DummyFormatFactory DUMMY FORMAT DummyFormatFactory public static void main String args ExtendedMessageFormat ExtendedMessageFormat dummy test formatRegistry String formattedPattern format String great System println formattedPattern code change starting release problem code title ExtendedMessageFormat java borderStyle solid CURRENT Broken escapingOn start QUOTE return appendTo null null appendTo append QUOTE WORKING escapingOn start QUOTE pos return appendTo null null appendTo append QUOTE code
480	StringEscapeUtils escapeHtml incorrectly converts unicode characters FFFF characters Characters represented characters internaly java incorrectly converted function test displays problem nicely import org apache commons lang public class public static void main String args throws Exception utf representation character COUNTING ROD UNIT DIGIT unicode codepoint byte data byte byte byte byte byte output amp amp amp System println StringEscapeUtils escapeHtml String data UTF quick feel free drop email patch
521	NumberUtils isNumber Return True Valid Number Trailing Decimal Place NumberUtils isNumber return true valid number trailing decimal place considered number BigDecimal works fine adding code chars chars block chars hasDecPoint hasExp decimal points dec exponent return false return foundDigit single trailing decimal point exponent
538	DateFormatUtils format correctly change Calendar TimeZone situations Calendar object constructed ways call Calendar setTimeZone correctly change Calendars fields Calling Calenar getTime problem bug JDK nice DateFormatUtils smart detect resolve problem unit test fails noformat public void testFormat CalendarIsoMsZulu final String dateTime commonly constructed cal GregorianCalendar unit test work time zone constructing GMT default locale time zone GregorianCalendar cal GregorianCalendar TimeZone getTimeZone GMT cal clear cal set FastDateFormat format FastDateFormat getInstance yyyy SSS TimeZone getTimeZone GMT assertEquals dateTime dateTime format format cal noformat unit test passes noformat public void testFormat CalendarIsoMsZulu final String dateTime GregorianCalendar cal GregorianCalendar TimeZone getTimeZone GMT cal clear cal set cal getTime FastDateFormat format FastDateFormat getInstance yyyy SSS TimeZone getTimeZone GMT assertEquals dateTime dateTime format format cal noformat
552	StringUtils replaceEach Bug Missing Documentation Test Case replaceEach fails null pointer exception expected StringUtils methods null friendly case stuff Values replacementList check null admit case perfect unclear replace outlined expectations test case met decided propose update documentation null passed replacement string code import static org junit Assert assertEquals import org apache commons lang StringUtils import org junit Test public class StringUtilsTest Test public void replaceEach String original String searchList String replacementList null String result StringUtils replaceEach original searchList replacementList assertEquals result assertEquals result assertEquals null result code
586	ThreadLocals ToStringStyle HashCodeBuilder trigger memory leaks container environments thread local org apache commons lang builder ToStringStyle created removed API remove webapp LANG triggers loading class reference chain created memory leak web application reload http markmail org thread uetw fdrsqgbh info
587	ClassUtils toClass Object throws NPE null array element summary
638	NumberUtils createNumber throws StringIndexOutOfBoundsException argument passed NumberUtils createNumber throws StringIndexOutOfBoundsException NumberFormatException String exponent indicators passed String
645	FastDateFormat format outputs incorrect week year locale isn respected FastDateFormat doesn respect locale creation outputting week year format settings system locale firstDayOfWeek minimalDaysInFirstWeek depending year result incorrect week number output simple test program demonstrate problem comparing SimpleDateFormat week number code import java util Calendar import java util import java util Locale import java text SimpleDateFormat import org apache commons lang time FastDateFormat public class FastDateFormatWeekBugDemo public static void main String args Locale setDefault Locale Locale locale Locale Calendar cal Calendar getInstance setting locale doesn change outcome cal set cal getTime System println Target FastDateFormat fdf FastDateFormat getInstance EEEE week locale SimpleDateFormat sdf SimpleDateFormat EEEE week locale System println FastDateFormat fdf format output FastDateFormat fredag week System println SimpleDateFormat sdf format output SimpleDateFormat fredag week code passed Locale setDefault FastDateFormat SimpleDateFormat output correct week number
662	org apache commons lang math Fraction reduce Integer MIN greatestCommonDivisor method class Fraction find gcd Integer MIN case triggered Integer MIN numerator Note case Integer MIN denominator handled explicitly getReducedFraction factory method code title FractionTest java borderStyle solid additional test cases public void testReducedFactory int int Fraction getReducedFraction Integer MIN assertEquals Integer MIN getNumerator assertEquals getDenominator public void testReduce Fraction getFraction Integer MIN result reduce assertEquals Integer MIN result getNumerator assertEquals result getDenominator code
664	NumberUtils isNumber String String Java Number NumberUtils isNumber String return true change code java chars chars allowing exponent return foundDigit hasExp code code java chars chars allowing exponent return foundDigit hasExp hasDecPoint code
677	DateUtils isSameLocalTime work correct bug DateUtils class method isSameLocalTime Calendar Calendar getInstance setTimeInMillis Calendar Calendar getInstance setTimeInMillis Assert assertFalse DateUtils isSameLocalTime method compares cal Calendar HOUR cal Calendar HOUR cal Calendar HOUR DAY cal Calendar HOUR DAY
719	FastDateFormat formats year differently SimpleDateFormat Java Starting Java SimpleDateFormat format year pattern YYY Java releases Javadoc pattern formatted number behavior bug JDK FastDateFormat adjusted behave
746	NumberUtils handle upper case hex NumberUtils createNumber work equally generates NumberFormatException Integer decode handles upper case hex
747	NumberUtils handle Long Hex numbers NumberUtils createLong handle hex numbers createInteger handles hex octal odd NumberUtils createNumber assumes hex numbers Integer handle bigger Hex numbers trivial createLong Long decode valueOf clear originally decode method Integer Long Java Fixing createNumber easy hex string digits Long leading zeros Integer length check trivial
788	SerializationUtils throws ClassNotFoundException cloning primitive classes serializable object reference primitive class int class int class SerializationUtils throw ClassNotFoundException clone object noformat import org apache commons lang SerializationUtils import org junit Test public class SerializationUtilsTest Test public void primitiveTypeClassSerialization Class primitiveType int class Class clone SerializationUtils clone primitiveType assertEquals primitiveType clone noformat problem reported java bug http bugs sun view bug bug ObjectInputStream fixed java version SerializationUtils problem arises SerializationUtils internally ClassLoaderAwareObjectInputStream overrides ObjectInputStream resoleClass method delegating super method case ClassNotFoundException understand intention ClassLoaderAwareObjectInputStream implementation implement fallback original implementation noformat protected Class resolveClass ObjectStreamClass desc throws IOException ClassNotFoundException String desc getName return Class forName false classLoader catch ClassNotFoundException return Class forName false Thread currentThread getContextClassLoader catch Exception return super resolveClass desc noformat code ObjectInputStream fixed java bug noformat protected Class resolveClass ObjectStreamClass desc throws IOException ClassNotFoundException String desc getName return Class forName false latestUserDefinedLoader catch ClassNotFoundException Class Class primClasses null return throw noformat
805	RandomStringUtils random count false false universe random throws java lang ArrayIndexOutOfBoundsException commons lang code chars random nextInt gap start code code takes random int fetch char chars array size start useless Fixed version code chars random nextInt gap chars length code user pass array null empty ends exception
807	RandomStringUtils throws confusing IAE start RandomUtils invokes Random nextInt start start Random throws java lang IllegalArgumentException positive confusing identify source problem
822	NumberUtils createNumber bad behaviour leading NumberUtils createNumber checks leading string returns null documented work bug BigDecimal Returning nulll contrary Javadoc behaviour methods throw NumberFormatException clear BigDecimal problem exists versions Java exist check invocations BigDecimal moved createBigDecimal
831	FastDateParser handle white space properly SimpleDateFormat Javadoc treat white space specially FastDateParser treats single white space number white space characters FDP parse dates fail parsed SDP
832	FastDateParser handle unterminated quotes correctly FDP handled unterminated quotes SimpleDateFormat Format fail parse format works format parsed Pattern IsNd
882	LookupTranslator accepts CharSequence input fails work implementations String core org apache commons lang text translate HashMap CharSequence CharSequence lookupMap Javadoc CharSequence emphasis quote interface refine general contracts equals hashCode methods result comparing objects implement CharSequence general undefined object implemented class guarantee class capable testing instances equality inappropriate arbitrary CharSequence instances elements set map quote current implementation code work expected code CharSequence CharSequence CharBuffer wrap toCharArray System println StringEscapeUtils ESCAPE HTML translate System println StringEscapeUtils ESCAPE HTML translate code identical noformat noformat problem minimum CharBuffer equals documented Javadoc quote char buffer equal type object quote lookup CharBuffer Map fail compared String implementations obvious work lines code System println StringEscapeUtils ESCAPE HTML translate toString System println StringEscapeUtils escapeHtml toString code forces String practical working large sets data require heap allocations garbage collection concerns translate method outputs Writer simplified examples omit option custom CharSequence wrapper char implements hashCode equals work implemented String interesting symmetric assumption interesting String equals implemented instanceof String final
